{"version":3,"sources":["webpack:///./src/views/Trash.vue?ac72","webpack:///./src/components/SimpleCard.vue?1d86","webpack:///src/components/SimpleCard.vue","webpack:///./src/components/SimpleCard.vue?408b","webpack:///./src/components/SimpleCard.vue","webpack:///src/views/Trash.vue","webpack:///./src/views/Trash.vue?dd23","webpack:///./src/views/Trash.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","selectedResources","length","staticClass","staticStyle","nativeOn","$event","clearSelection","_v","selectAll","deleteAllSelected","_s","restoreAllSelected","_e","allResources","on","model","value","callback","$$v","filterText","expression","allResourcesFiltered","pageNumber","Math","round","sliceSize","toFixed","_l","resource","key","_id","selectThis","staticRenderFns","class","selected","style","isOwner","resourceType","name","updatedAt","createdAt","directives","rawName","deleteForever","restore","props","Object","watch","computed","project","date","toLocaleString","canEdit","canWrite","indexOf","owner","$store","state","user","data","methods","mounted","bus","$on","component","components","SimpleCard","projects","filter","streams","Date","allResourcesPaginated","slice","currentIndex","forEach","$emit","created"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CAAC,eAAe,KAAK,CAAEN,EAAIO,kBAAkBC,OAAS,EAAGJ,EAAG,YAAY,CAACK,YAAY,cAAcC,YAAY,CAAC,UAAU,OAAOJ,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,kBAAkB,CAACA,EAAG,QAAQ,CAACK,YAAY,gCAAgCH,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAWK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIa,eAAeD,MAAW,CAACR,EAAG,SAAS,CAACJ,EAAIc,GAAG,YAAY,GAAGV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,IAAIK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIe,eAAe,CAACf,EAAIc,GAAG,iBAAiB,GAAGV,EAAG,YAAYA,EAAG,kBAAkB,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,SAASK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIgB,uBAAuB,CAAChB,EAAIc,GAAG,uBAAuBd,EAAIiB,GAAGjB,EAAIO,kBAAkBC,QAAQ,OAAOJ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,UAAU,UAAY,IAAIK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIkB,wBAAwB,CAAClB,EAAIc,GAAG,cAAc,IAAI,GAAGd,EAAImB,KAAKf,EAAG,WAAW,CAACE,MAAM,CAAC,IAAM,GAAG,KAAO,KAAK,CAACF,EAAG,SAAS,CAACK,YAAY,6BAA6BH,MAAM,CAAC,KAAO,GAAG,OAAO,KAAK,CAACN,EAAIc,GAAG,uCAAuCd,EAAIiB,GAAGjB,EAAIoB,aAAaZ,QAAQ,6DAA6DJ,EAAG,MAAMA,EAAG,SAAS,CAACJ,EAAIc,GAAG,0CAA0CV,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,GAAG,UAAY,GAAG,MAAQ,wBAAwB,qBAAqB,SAAS,WAAa,SAASe,GAAG,CAAC,MAAQ,SAAST,MAAWU,MAAM,CAACC,MAAOvB,EAAc,WAAEwB,SAAS,SAAUC,GAAMzB,EAAI0B,WAAWD,GAAKE,WAAW,gBAAiB3B,EAAI0B,YAA+B,KAAjB1B,EAAI0B,WAAiBtB,EAAG,MAAM,CAACA,EAAG,IAAI,CAACK,YAAY,qCAAqC,CAACT,EAAIc,GAAG,SAASd,EAAIiB,GAAGjB,EAAI4B,qBAAqBpB,QAAQ,iDAAiDR,EAAImB,MAAM,GAAGf,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,SAA4B,IAAjBN,EAAI6B,YAAgBlB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,WAAW,KAAK,CAACzB,EAAG,SAAS,CAACJ,EAAIc,GAAG,iBAAiB,GAAGV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,SAA4B,IAAjBN,EAAI6B,YAAgBlB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,YAAY,KAAK,CAACzB,EAAG,SAAS,CAACJ,EAAIc,GAAG,mBAAmB,GAAGV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,SAAWN,EAAI6B,YAAcC,KAAKC,MAAM/B,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,YAAYrB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,YAAY,KAAK,CAACzB,EAAG,SAAS,CAACJ,EAAIc,GAAG,oBAAoB,GAAGV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,SAAWN,EAAI6B,YAAcC,KAAKC,MAAM/B,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,YAAYrB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,WAAWC,KAAKC,MAAM/B,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,cAAc,CAAC5B,EAAG,SAAS,CAACJ,EAAIc,GAAG,gBAAgB,GAAGV,EAAG,OAAO,CAACK,YAAY,UAAUH,MAAM,CAAC,SAAW,gCAAgC,CAACN,EAAIc,GAAGd,EAAIiB,GAAGjB,EAAI6B,YAAY,MAAM7B,EAAIiB,IAAIjB,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,WAAWC,QAAQ,QAAQ,GAAG7B,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,IAAM,GAAG,KAAO,KAAKN,EAAIkC,GAAIlC,EAAyB,sBAAE,SAASmC,GAAU,OAAO/B,EAAG,SAAS,CAACgC,IAAID,EAASE,IAAI/B,MAAM,CAAC,KAAO,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,SAAW6B,EAAS,mBAAmB,kBAAkBd,GAAG,CAAC,SAAWrB,EAAIsC,eAAe,KAAK,IAAI,GAAGlC,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,SAA4B,IAAjBN,EAAI6B,YAAgBlB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,WAAW,KAAK,CAACzB,EAAG,SAAS,CAACJ,EAAIc,GAAG,iBAAiB,GAAGV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,SAA4B,IAAjBN,EAAI6B,YAAgBlB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,YAAY,KAAK,CAACzB,EAAG,SAAS,CAACJ,EAAIc,GAAG,mBAAmB,GAAGV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,SAAWN,EAAI6B,YAAcC,KAAKC,MAAM/B,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,YAAYrB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,YAAY,KAAK,CAACzB,EAAG,SAAS,CAACJ,EAAIc,GAAG,oBAAoB,GAAGV,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,MAAQ,GAAG,SAAWN,EAAI6B,YAAcC,KAAKC,MAAM/B,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,YAAYrB,SAAS,CAAC,MAAQ,SAASC,GAAQZ,EAAI6B,WAAWC,KAAKC,MAAM/B,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,cAAc,CAAC5B,EAAG,SAAS,CAACJ,EAAIc,GAAG,gBAAgB,GAAGV,EAAG,OAAO,CAACK,YAAY,UAAUH,MAAM,CAAC,SAAW,gCAAgC,CAACN,EAAIc,GAAGd,EAAIiB,GAAGjB,EAAI6B,YAAY,MAAM7B,EAAIiB,IAAIjB,EAAI4B,qBAAqBpB,OAAOR,EAAIgC,WAAWC,QAAQ,QAAQ,IAAI,IAAI,IAC/tIM,EAAkB,G,uFCDlB,G,UAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACoC,MAAM,CAAC,eAAexC,EAAIyC,SAAU,eAAe,GAAMC,MAAQ,YAAc1C,EAAI2C,QAAU,EAAI,IAAQ,oBAAsB3C,EAAI2C,QAAU,MAAQ,QAAU,KAAO,CAACvC,EAAG,eAAe,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,KAAK,CAACN,EAAIc,GAAGd,EAAIiB,GAAsB,WAAnBjB,EAAI4C,aAAwB,gBAAgB,eAAe5C,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACK,YAAY,2BAA2B,CAACT,EAAIc,GAAGd,EAAIiB,GAAGjB,EAAImC,SAASU,KAAO7C,EAAImC,SAASU,KAAO,cAAc7C,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACK,YAAY,WAAW,CAACT,EAAIc,GAAG,IAAId,EAAIiB,GAAGjB,EAAI4C,cAAc,OAAO5C,EAAIc,GAAG,WAAWV,EAAG,YAAYA,EAAG,QAAQA,EAAG,OAAO,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,WAAWgB,MAAM,CAACC,MAAOvB,EAAY,SAAEwB,SAAS,SAAUC,GAAMzB,EAAIyC,SAAShB,GAAKE,WAAW,eAAe,IAAI,GAAGvB,EAAG,YAAY,CAACK,YAAY,cAAcL,EAAG,WAAW,CAACE,MAAM,CAAC,IAAM,GAAG,KAAO,KAAK,CAACF,EAAG,SAAS,CAACK,YAAY,UAAUH,MAAM,CAAC,KAAO,GAAG,OAAO,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACN,EAAIc,GAAG,UAAUd,EAAIc,GAAG,KAAKV,EAAG,UAAU,CAACE,MAAM,CAAC,SAAWN,EAAImC,SAASW,aAAa9C,EAAIc,GAAG,aAAaV,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACN,EAAIc,GAAG,iBAAiBd,EAAIc,GAAG,KAAKd,EAAIiB,GAAGjB,EAAI+C,WAAW,YAAY,IAAI,GAAG3C,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAAC4C,WAAW,CAAC,CAACH,KAAK,OAAOI,QAAQ,SAAS1B,MAAOvB,EAAW,QAAE2B,WAAW,YAAYlB,YAAY,cAAcH,MAAM,CAAC,UAAY,GAAG,KAAO,GAAG,MAAQ,SAASK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIkD,mBAAmB,CAAClD,EAAIc,GAAG,wBAAwBV,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,WAAWK,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAImD,aAAa,CAACnD,EAAIc,GAAG,cAAc,IAAI,KAC/nD,EAAkB,GC+BtB,G,wCAAA,CACE+B,KAAM,cACNO,MAAO,CACLjB,SAAUkB,QAEZC,MAAO,CACLb,SADJ,WACA,uCAEEc,SAAU,CACRC,QADJ,WAEM,OAAOvD,KAAKkC,UAEdY,UAJJ,WAKM,IAAN,mCACM,OAAOU,EAAKC,eAAe,KAAjC,8CAEIC,QARJ,WASM,QAAO1D,KAAK0C,UAAlB,IAAmC1C,KAAKuD,QAAQI,SAASC,QAAQ,KAAjE,wBAEIlB,QAXJ,WAYM,OAAO1C,KAAKuD,QAAQM,QAAU7D,KAAK8D,OAAOC,MAAMC,KAAK5B,KAEvDO,aAdJ,WAeM,OAAI,KAAV,kBACA,SAEA,YAGEsB,KA7BF,WA8BI,MAAO,CACLzB,UAAU,IAGd0B,QAAS,CACPjB,cADJ,WAEU,KAAV,kBACA,qCAAQ,SAAR,yBAEA,sCAAQ,IAAR,qBAEIC,QAPJ,WAQU,KAAV,kBACA,qCAAQ,SAAR,uBAAQ,SAAR,IAEA,sCAAQ,IAAR,kBAAQ,SAAR,MAGEiB,QAhDF,WAgDA,WAEIC,IAAIC,IAAI,kBAAZ,YACU,IAAV,kCAEID,IAAIC,IAAI,yBAAZ,WACM,EAAN,iBCtFoV,I,YCOhVC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCqDf,GACE1B,KAAM,YACN2B,WAAY,CACVC,WAAJ,GAEEnB,MAAO,CACL5B,WADJ,WAEMzB,KAAK4B,WAAa,IAGtB0B,SAAU,CACRmB,SADJ,WAEM,OAAOzE,KAAK8D,OAAOC,MAAMU,SAASC,OAAO,SAA/C,2BAEIC,QAJJ,WAKM,OAAO3E,KAAK8D,OAAOC,MAAMY,QAAQD,OAAO,SAA9C,2BAEIvD,aAPJ,WAOA,WACM,MAAO,GAAb,oJACQ,OAAO,IAAIyD,KAAK,EAAxB,oCAGIjD,qBAZJ,WAYA,WACM,MAAN,KAAU,KAAV,qDACa3B,KAAKmB,aAAauD,OAAO,SAAtC,mIAEIG,sBAhBJ,WAiBM,OAAO7E,KAAK2B,qBAAqBmD,MAAM,KAA7C,kFAGEb,KA9BF,WA+BI,MAAO,CACLxC,WAAY,GACZsD,aAAc,EACdhD,UAAW,EACXH,WAAY,EACZtB,kBAAmB,KAGvB4D,QAAS,CACPjB,cADJ,SACA,GACU,EAAV,SACA,qCAAQ,SAAR,aAEA,sCAAQ,IAAR,SAEIlC,kBAPJ,WAOA,2BACA,mFACA,WACA,2DAEA,mDALA,kFAOMf,KAAKY,kBAEPsC,QAhBJ,SAgBA,GACU,EAAV,SACA,qCAAQ,SAAR,WAAQ,SAAR,IAEA,sCAAQ,IAAR,MAAQ,SAAR,KAEIjC,mBAtBJ,WAsBA,2BACA,mFACA,WACA,sEAEA,8DALA,kFAOMjB,KAAKY,kBAEPA,eA/BJ,WAgCMZ,KAAKM,kBAAkB0E,QAAQ,SAArC,GACQZ,IAAIa,MAAM,6BAGdnE,UApCJ,WAoCA,WACMd,KAAK6E,sBAAsBG,QAAQ,SAAzC,GACQ,IAAR,oEACA,IAAY,GACFZ,IAAIa,MAAM,kBAApB,UAII5C,WA5CJ,SA4CA,GACM,IAAN,uEACA,IAAU,EACV,kCAEA,qCAGE6C,QA3FF,cCvE+U,ICO3U,EAAY,eACd,EACApF,EACAwC,GACA,EACA,KACA,WACA,MAIa,e","file":"js/chunk-2d0b3630.b66ba925.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-xl\":\"\"}},[(_vm.selectedResources.length > 0)?_c('v-toolbar',{staticClass:\"elevation-0\",staticStyle:{\"z-index\":\"100\"},attrs:{\"fixed\":\"\"}},[_c('v-toolbar-items',[_c('v-btn',{staticClass:\"md-raised md-dense md-primary\",attrs:{\"icon\":\"\",\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.clearSelection($event)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-btn',{attrs:{\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectAll()}}},[_vm._v(\"select all\")])],1),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"error\"},nativeOn:{\"click\":function($event){return _vm.deleteAllSelected()}}},[_vm._v(\"Delete Permanently (\"+_vm._s(_vm.selectedResources.length)+\")\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"depressed\":\"\"},nativeOn:{\"click\":function($event){return _vm.restoreAllSelected()}}},[_vm._v(\"Restore\")])],1)],1):_vm._e(),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"headline font-weight-light\",attrs:{\"xs12\":\"\",\"py-5\":\"\"}},[_vm._v(\"\\n      Welcome to the recycle bin (\"+_vm._s(_vm.allResources.length)+\" items). You can restore them or delete them permanently.\"),_c('br'),_c('strong',[_vm._v(\"Take care, there's no undo button!\")])]),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"solo\":\"\",\"clearable\":\"\",\"label\":\"Search for a resource\",\"prepend-inner-icon\":\"search\",\"spellcheck\":\"false\"},on:{\"input\":function($event){}},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}}),(_vm.filterText && _vm.filterText!==\"\")?_c('div',[_c('p',{staticClass:\"title font-weight-light my-3 mx-1\"},[_vm._v(\"Found \"+_vm._s(_vm.allResourcesFiltered.length)+\" resources matching your search criteria.\")])]):_vm._e()],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber=0}}},[_c('v-icon',[_vm._v(\"first_page\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber-=1}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.allResourcesFiltered.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber+=1}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.allResourcesFiltered.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber=Math.round(_vm.allResourcesFiltered.length/_vm.sliceSize)}}},[_c('v-icon',[_vm._v(\"last_page\")])],1),_c('span',{staticClass:\"caption\",attrs:{\"xxxstyle\":\"position: relative;top:8px;\"}},[_vm._v(_vm._s(_vm.pageNumber)+\" / \"+_vm._s((_vm.allResourcesFiltered.length/_vm.sliceSize).toFixed(0)))])],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.allResourcesPaginated),function(resource){return _c('v-flex',{key:resource._id,attrs:{\"xs12\":\"\",\"sm6\":\"\",\"lg6\":\"\"}},[_c('simple-card',{attrs:{\"resource\":resource,\"xxxxv-on:deleted\":\"clearSelection\"},on:{\"selected\":_vm.selectThis}})],1)}),1)],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber=0}}},[_c('v-icon',[_vm._v(\"first_page\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber-=1}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.allResourcesFiltered.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber+=1}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.allResourcesFiltered.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber=Math.round(_vm.allResourcesFiltered.length/_vm.sliceSize)}}},[_c('v-icon',[_vm._v(\"last_page\")])],1),_c('span',{staticClass:\"caption\",attrs:{\"xxxstyle\":\"position: relative;top:8px;\"}},[_vm._v(_vm._s(_vm.pageNumber)+\" / \"+_vm._s((_vm.allResourcesFiltered.length/_vm.sliceSize).toFixed(0)))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{class:{'elevation-10':_vm.selected, 'elevation-1': true},style:((\"opacity:\" + (_vm.isOwner ? 1 : 0.20) + \";pointer-events:\" + (_vm.isOwner ? 'all' : 'none') + \";\"))},[_c('v-card-title',[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(_vm._s(_vm.resourceType==='stream'?'import_export':'business'))]),_vm._v(\" \\n    \"),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(_vm._s(_vm.resource.name ? _vm.resource.name : \"No Name\"))]),_vm._v(\" \\n    \"),_c('span',{staticClass:\"caption\"},[_vm._v(\"(\"+_vm._s(_vm.resourceType)+\")\")]),_vm._v(\" \\n    \"),_c('v-spacer'),_c('span'),_c('span',[_c('v-checkbox',{attrs:{\"color\":\"primary\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1),_c('v-divider',{staticClass:\"mx-0 my-0\"}),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"caption\",attrs:{\"xs12\":\"\",\"ma-2\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"edit\")]),_vm._v(\" \"),_c('timeago',{attrs:{\"datetime\":_vm.resource.updatedAt}}),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"access_time\")]),_vm._v(\"  \"+_vm._s(_vm.createdAt)+\" \\n    \")],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOwner),expression:\"isOwner\"}],staticClass:\"transparent\",attrs:{\"depressed\":\"\",\"flat\":\"\",\"color\":\"error\"},nativeOn:{\"click\":function($event){return _vm.deleteForever()}}},[_vm._v(\"Delete Permanently\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.restore()}}},[_vm._v(\"Restore\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card :class=\"{'elevation-10':selected, 'elevation-1': true}\" :style=\"`opacity:${isOwner ? 1 : 0.20 };pointer-events:${isOwner ? 'all' : 'none'};`\">\r\n    <v-card-title>\r\n      <v-icon left>{{resourceType==='stream'?'import_export':'business'}}</v-icon>&nbsp;\r\n      <span class='title font-weight-light'>{{resource.name ? resource.name : \"No Name\"}}</span>&nbsp;\r\n      <span class='caption'>({{resourceType}})</span>&nbsp;\r\n      <v-spacer></v-spacer>\r\n      <span></span>\r\n      <span>\r\n        <v-checkbox color='primary' v-model=\"selected\"></v-checkbox>\r\n      </span>\r\n    </v-card-title>\r\n    <v-divider class='mx-0 my-0'></v-divider>\r\n    <v-layout row wrap>\r\n      <v-flex xs12 class='caption' ma-2>\r\n        <v-icon small>edit</v-icon>&nbsp;<timeago :datetime='resource.updatedAt'></timeago>&nbsp;\r\n        <v-icon small>access_time</v-icon>&nbsp; {{createdAt}}&nbsp;\r\n      </v-flex>\r\n    </v-layout>\r\n    <v-card-actions>\r\n      <v-spacer></v-spacer>\r\n      <v-btn depressed flat color='error' class='transparent' @click.native='deleteForever()' v-show='isOwner'>Delete Permanently</v-btn>\r\n      <v-btn color='primary' @click.native='restore()'>Restore</v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport uniq from 'lodash.uniq'\r\nimport union from 'lodash.union'\r\nimport marked from 'marked'\r\n\r\nexport default {\r\n  name: 'ProjectCard',\r\n  props: {\r\n    resource: Object\r\n  },\r\n  watch: {\r\n    selected( ) { this.$emit( \"selected\", this.resource ) }\r\n  },\r\n  computed: {\r\n    project( ) {\r\n      return this.resource\r\n    },\r\n    createdAt( ) {\r\n      let date = new Date( this.project.createdAt )\r\n      return date.toLocaleString( 'en', { year: 'numeric', month: 'long', day: 'numeric' } )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.project.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.project.owner === this.$store.state.user._id\r\n    },\r\n    resourceType( ) {\r\n      if ( this.resource.streamId )\r\n        return 'stream'\r\n      else\r\n        return 'project'\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      selected: false,\r\n    }\r\n  },\r\n  methods: {\r\n    deleteForever( ) {\r\n      if ( this.resource.streamId )\r\n        this.$store.dispatch( 'deleteStream', { streamId: this.resource.streamId } )\r\n      else\r\n        this.$store.dispatch( 'deleteProject', { _id: this.resource._id } )\r\n    },\r\n    restore( ) {\r\n      if ( this.resource.streamId )\r\n        this.$store.dispatch( 'updateStream', { streamId: this.resource.streamId, deleted: false } )\r\n      else\r\n        this.$store.dispatch( 'updateProject', { _id: this.resource._id, deleted: false } )\r\n    }\r\n  },\r\n  mounted( ) {\r\n    // TODO: caca\r\n    bus.$on( 'select-resource', id => {\r\n      if ( id === this.resource._id ) this.selected = true\r\n    } )\r\n    bus.$on( 'unselect-all-resources', ( ) => {\r\n      this.selected = false\r\n    } )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SimpleCard.vue?vue&type=template&id=e0d8ef8e&scoped=true&\"\nimport script from \"./SimpleCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SimpleCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0d8ef8e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-container grid-list-xl>\r\n    <!-- Toolbar for stream selection/bulk operations -->\r\n    <v-toolbar fixed v-if='selectedResources.length > 0' style='z-index:100' class='elevation-0'>\r\n      <v-toolbar-items>\r\n        <v-btn icon color='primary' class='md-raised md-dense md-primary' @click.native='clearSelection'>\r\n          <v-icon>close</v-icon>\r\n        </v-btn>\r\n        <v-btn flat @click.native='selectAll()'>select all</v-btn>\r\n      </v-toolbar-items>\r\n      <v-spacer></v-spacer>\r\n      <v-toolbar-items>\r\n        <v-btn flat color='error' @click.native='deleteAllSelected()'>Delete Permanently ({{selectedResources.length}})</v-btn>\r\n        <v-btn color='primary' depressed @click.native='restoreAllSelected()'>Restore</v-btn>\r\n      </v-toolbar-items>\r\n    </v-toolbar>\r\n    <v-layout row wrap>\r\n      <v-flex xs12 py-5 class='headline font-weight-light'>\r\n        Welcome to the recycle bin ({{allResources.length}} items). You can restore them or delete them permanently.<br><strong>Take care, there's no undo button!</strong>\r\n      </v-flex>\r\n      <v-flex xs12>\r\n        <v-text-field solo clearable label=\"Search for a resource\" prepend-inner-icon=\"search\" @input=\"\" spellcheck=\"false\" v-model='filterText'></v-text-field>\r\n        <div v-if='filterText && filterText!==\"\"'>\r\n          <p class='title font-weight-light my-3 mx-1'>Found {{allResourcesFiltered.length}} resources matching your search criteria.</p>\r\n        </div>\r\n      </v-flex>\r\n      <!-- Pagination top  -->\r\n      <v-flex xs12>\r\n        <v-btn icon small @click.native='pageNumber=0' :disabled='pageNumber===0'>\r\n          <v-icon>first_page</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber-=1' :disabled='pageNumber===0'>\r\n          <v-icon>chevron_left</v-icon>\r\n        </v-btn>\r\n        <v-btn icon @click.native='pageNumber+=1' :disabled='pageNumber >= Math.round(allResourcesFiltered.length/sliceSize)'>\r\n          <v-icon>chevron_right</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber=Math.round(allResourcesFiltered.length/sliceSize)' :disabled='pageNumber >= Math.round(allResourcesFiltered.length/sliceSize)'>\r\n          <v-icon>last_page</v-icon>\r\n        </v-btn>\r\n        <span class='caption' xxxstyle=\"position: relative;top:8px;\">{{pageNumber}} / {{(allResourcesFiltered.length/sliceSize).toFixed(0)}}</span>\r\n      </v-flex>\r\n      <v-flex xs12>\r\n        <v-layout row wrap>\r\n          <v-flex xs12 sm6 lg6 v-for='resource in allResourcesPaginated' :key='resource._id'>\r\n            <simple-card :resource='resource' v-on:selected='selectThis' xxxxv-on:deleted='clearSelection'></simple-card>\r\n          </v-flex>\r\n        </v-layout>\r\n      </v-flex>\r\n      <!-- Pagination bottom  -->\r\n      <v-flex xs12>\r\n        <v-btn icon small @click.native='pageNumber=0' :disabled='pageNumber===0'>\r\n          <v-icon>first_page</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber-=1' :disabled='pageNumber===0'>\r\n          <v-icon>chevron_left</v-icon>\r\n        </v-btn>\r\n        <v-btn icon @click.native='pageNumber+=1' :disabled='pageNumber >= Math.round(allResourcesFiltered.length/sliceSize)'>\r\n          <v-icon>chevron_right</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber=Math.round(allResourcesFiltered.length/sliceSize)' :disabled='pageNumber >= Math.round(allResourcesFiltered.length/sliceSize)'>\r\n          <v-icon>last_page</v-icon>\r\n        </v-btn>\r\n        <span class='caption' xxxstyle=\"position: relative;top:8px;\">{{pageNumber}} / {{(allResourcesFiltered.length/sliceSize).toFixed(0)}}</span>\r\n      </v-flex>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport SimpleCard from '../components/SimpleCard.vue'\r\n\r\nexport default {\r\n  name: 'TrashView',\r\n  components: {\r\n    SimpleCard\r\n  },\r\n  watch: {\r\n    filterText( ) {\r\n      this.pageNumber = 0\r\n    }\r\n  },\r\n  computed: {\r\n    projects( ) {\r\n      return this.$store.state.projects.filter( p => p.deleted === true )\r\n    },\r\n    streams( ) {\r\n      return this.$store.state.streams.filter( s => s.deleted === true )\r\n    },\r\n    allResources( ) {\r\n      return [ ...this.streams, ...this.projects ].filter( res => res.owner === this.$store.state.user._id ).sort( ( a, b ) => {\r\n        return new Date( b.updatedAt ) - new Date( a.updatedAt );\r\n      } )\r\n    },\r\n    allResourcesFiltered( ) {\r\n      if ( this.filterText === '' || this.filterText === null ) return this.allResources\r\n      return this.allResources.filter( r => r.name ? r.name.toLowerCase( ).includes( this.filterText.toLowerCase( ) ) : true ).sort( ( a, b ) => a.updatedAt > b.updatedAt )\r\n    },\r\n    allResourcesPaginated( ) {\r\n      return this.allResourcesFiltered.slice( this.currentIndex + this.pageNumber * this.sliceSize, this.sliceSize * ( this.pageNumber + 1 ) )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      filterText: '',\r\n      currentIndex: 0,\r\n      sliceSize: 6,\r\n      pageNumber: 0,\r\n      selectedResources: [ ]\r\n    }\r\n  },\r\n  methods: {\r\n    deleteForever( resource ) {\r\n      if ( resource.streamId )\r\n        this.$store.dispatch( 'deleteStream', { streamId: resource.streamId } )\r\n      else\r\n        this.$store.dispatch( 'deleteProject', { _id: resource._id } )\r\n    },\r\n    deleteAllSelected( ) {\r\n      for ( let resource of this.selectedResources ) {\r\n        if ( resource.streamId )\r\n          this.$store.dispatch( 'deleteStream', { streamId: resource.streamId } )\r\n        else\r\n          this.$store.dispatch( 'deleteProject', { _id: resource._id } )\r\n      }\r\n      this.clearSelection( )\r\n    },\r\n    restore( resource ) {\r\n      if ( resource.streamId )\r\n        this.$store.dispatch( 'updateStream', { streamId: resource.streamId, deleted: false } )\r\n      else\r\n        this.$store.dispatch( 'updateProject', { _id: resource._id, deleted: false } )\r\n    },\r\n    restoreAllSelected( ) {\r\n      for ( let resource of this.selectedResources ) {\r\n        if ( resource.streamId )\r\n          this.$store.dispatch( 'updateStream', { streamId: resource.streamId, deleted: false } )\r\n        else\r\n          this.$store.dispatch( 'updateProject', { _id: resource._id, deleted: false } )\r\n      }\r\n      this.clearSelection( )\r\n    },\r\n    clearSelection( ) {\r\n      this.selectedResources.forEach( resource => {\r\n        bus.$emit( 'unselect-all-resources' )\r\n      } )\r\n    },\r\n    selectAll( ) {\r\n      this.allResourcesPaginated.forEach( resource => {\r\n        let index = this.selectedResources.findIndex( res => res._id === resource._id )\r\n        if ( index === -1 ) {\r\n          bus.$emit( 'select-resource', resource._id )\r\n        }\r\n      } )\r\n    },\r\n    selectThis( resource ) {\r\n      let index = this.selectedResources.findIndex( r => r._id === resource._id )\r\n      if ( index === -1 )\r\n        this.selectedResources.unshift( resource )\r\n      else\r\n        this.selectedResources.splice( index, 1 )\r\n    }\r\n  },\r\n  created( ) {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trash.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trash.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trash.vue?vue&type=template&id=a69d51dc&scoped=true&\"\nimport script from \"./Trash.vue?vue&type=script&lang=js&\"\nexport * from \"./Trash.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a69d51dc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}