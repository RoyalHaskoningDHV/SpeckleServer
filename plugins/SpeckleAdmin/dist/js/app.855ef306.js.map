{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?a63f","webpack:///./src/components/NavDrawer.vue?88fc","webpack:///src/components/NavDrawer.vue","webpack:///./src/components/NavDrawer.vue?75a6","webpack:///./src/components/NavDrawer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/store/lambda/_lambdaSettings.js","webpack:///./src/store/utilities.js","webpack:///./src/store/admin.js","webpack:///./src/store/viewer.js","webpack:///./src/store/store.js","webpack:///./src/router.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/components/EditableSpan.vue?c1e6","webpack:///src/components/EditableSpan.vue","webpack:///./src/components/EditableSpan.vue?872a","webpack:///./src/components/EditableSpan.vue","webpack:///./src/main.js","webpack:///./src/App.vue?926f","webpack:///./src/components/EditableSpan.vue?0761"],"names":["i","chunkIds","length","deferredModules","j","deferredModule","chunkId","existingLinkTags","existingStyleTags","then","type","target","script","enumerable","get","getter","value","key","bind","module","Object","prototype","hasOwnProperty","call","object","property","console","error","err","jsonpArray","webpackJsonpCallback","_vm","this","_h","$createElement","_c","_self","attrs","$store","state","dark","model","callback","$$v","drawer","expression","on","$event","stopPropagation","staticClass","_v","_s","$route","name","nativeOn","fullscreen","isFullScreen","path","includes","toggleControlsViewer","viewerControls","_e","staticRenderFns","isAuth","scopedSlots","_u","fn","serverManifest","serverName","proxy","logout","user","role","toggleDark","staticStyle","data","methods","dispatch","$router","push","localStorage","setItem","commit","mounted","component","components","NavDrawer","document","exitFullscreen","element","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","created","updated","LambdaSettings","Lambdas","removeArraysRecursive","foo","bar","getStructuralArrPropKeys","getTokenMSAL","clientId","authority","loginRequest","userAgent","Msal","UserAgentApplication","auth","redirectUri","window","location","origin","cache","cacheLocation","storeAuthStateInCookie","getCachedToken","token","accessToken","acquireTokenSilent","log","errorCode","msalClientId","loginPopup","acquireTokenPopup","adminStore","streams","users","projects","mutations","ADD_STREAMS_ADMIN","forEach","stream","findIndex","x","streamId","description","tags","unshift","ADD_USERS_ADMIN","found","find","u","_id","UPDATE_USER","ADD_PROJECTS_ADMIN","project","p","deleted","UPDATE_PROJECT","props","updatedAt","Date","toISOString","DELETE_PROJECT","index","splice","getters","actions","getStreamsAdmin","context","resolve","reject","Axios","res","resources","catch","getUsersAdmin","resource","updateUserAdmin","put","getProjectsAdmin","viewerStore","showEdges","edgesThreshold","castShadows","meshOverrides","opacity","specular","TOGGLE_EDGES","payload","SET_EDGES_THRESHOLD","TOGGLE_SHADOWS","SET_MESH_OPACITY","SET_MESH_SPECULAR","SET_ALL_VIEWER_SETTINGS","Vue","use","Vuex","Store","server","deStreams","clients","comments","loadedStreamIds","objects","legend","selectedObjects","myClient","lambdas","processors","tokens","streamClients","filter","c","filteredResources","filters","resourceType","base","parent","query","toLowerCase","private","toString","myTags","trim","split","map","t","streamTags","every","jobNumber","owner","objectPropertyKeys","keySet","stringKeySet","obj","properties","flatProps","flatten","add","keySets","allKeys","sort","a","b","stringKeys","hasStructuralProperties","structural","result","structuralKeys","keys","allTags","tagSet","allStreamTags","allProjectTags","allJobNumbers","set","allJobNumbersStreams","allJobNumbersProjects","SET_DARK","TOGGLE_VIEWER_CONTROLS","SET_VIEWER_CONTROLS","ADD_STREAMS","UPDATE_STREAM","s","UPDATE_STREAM_DATA","layers","DELETE_STREAM","ADD_CLIENTS","client","ADD_DE_STREAM","ADD_DE_STREAM_LAYER","newLayer","orderIndex","startIndex","objectCount","topology","guid","uuid","UPDATE_DE_STREAM_LAYER","layer","surpassed","objectCountDifference","iterLayer","REMOVE_DE_STREAM_LAYER","l","APPEND_DE_STREAM_LAYERS_FROM_CSV","transposed","arr","noHeader","slice","val","k","ADD_PROJECTS","warn","ADD_LAMBDAS","lambda","function","ADD_PROCESSORS","processor","UPDATE_PROCESSOR","DELETE_PROCESSOR","ADD_TOKEN","id","DELETE_TOKEN","delete","ADD_USER","ADD_USERS","SET_SERVER","SET_SERVER_DETAILS","SET_TOKEN","SET_USER","SET_WEB_APP_CLIENT","FLUSH_ALL","ADD_LOADED_STREAMID","REMOVE_LOADED_STREAMID","indexOf","ADD_OBJECTS","UPDATE_OBJECTS_STREAMS","objIds","streamToAdd","streamToRemove","myObject","o","REMOVE_OBJECTS","objectIds","SET_SELECTED_OBJECTS","ADD_SELECTED_OBJECTS","REMOVE_SELECTED_OBJECTS","SET_LEGEND","getStream","refreshStream","getStreams","createStream","post","onlineEditable","updateStream","updateStreamObjectsAndLayers","commitMessage","Error","surname","lastChangedBy","originalStream","children","clone","getStreamClients","deleteStream","getStreamObjects","ids","getObjects","createObjects","getProject","getProjects","createProject","updateProject","addUserToProject","projectId","userId","permissions","canWrite","canRead","myStream","uniq","upgradeUserInProject","downgradeUserInProject","streamsToAddReadAndPullWrite","streamsToAddToRead","removeUserInProject","streamsToPullBothFrom","streamsToPullWriteFrom","streamsToPullReadFrom","addStreamToProject","removeStreamFromProject","deleteProject","modifiedStreams","loadLambdas","promises","myLambdas","method","url","baseURL","protocol","host","all","r","request","responseURL","pop","getProcessor","JSON","parse","getItem","getProcessors","processorIds","createProcessor","proc","blocks","params","anonymousComments","updateProcessor","deleteProcessor","removeItem","foundIndex","authenticateBlocks","msal","propName","createClient","defaults","headers","common","documentName","documentType","online","getUser","updateLoggedInUser","authenticate","URL","userProfile","serverDetails","usedServers","message","modules","admin","viewer","Router","myRouter","linkExactActiveClass","routes","meta","requiresAuth","beforeEnter","to","from","next","afterEach","existingQueryObject","base64url","decode","$Countly","q","replace","beforeEach","register","process","ready","registered","cached","updatefound","offline","hint","disabled","domProps","getContent","updateOnBlur","_k","keyCode","updateOnEnter","text","dataKey","computed","innerText","newContent","$emit","e","blur","config","productionTip","Vuetify","theme","primary","colors","blue","darken1","secondary","lighten4","accent","indigo","VueTimeago","locale","queryString","href","queryVal","queryObject","response","Authorization","status","initApp","$http","bus","ColorHasher","CH","mixin","getHexFromString","str","hex","hexFromString","appendInfoToUrl","info","getUrlQueryObject","EditableSpan","VueCountly","Countly","app_key","router","store","render","h","App","$mount"],"mappings":"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","file":"js/app.855ef306.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0af48a\":\"57711a66\",\"chunk-a45fa086\":\"32159bb9\",\"chunk-6e6c150c\":\"cca86a25\",\"chunk-2d0b9d35\":\"dfe3d593\",\"chunk-2d0cb6c3\":\"5783749b\",\"chunk-2d217357\":\"046a8764\",\"chunk-2d22d1db\":\"22110297\",\"chunk-47a046e2\":\"b99ed1e7\",\"chunk-bea16dec\":\"19fb31cd\",\"chunk-c45573d2\":\"a0caa85f\",\"chunk-26a30cee\":\"115ab52e\",\"chunk-273d08e0\":\"f948ee03\",\"chunk-2657eece\":\"2bc2891b\",\"chunk-2d0abfdc\":\"15332d75\",\"chunk-2d0b3630\":\"b66ba925\",\"chunk-2d2138f6\":\"80fc3756\",\"chunk-3be0ca10\":\"d0944890\",\"chunk-60e049cf\":\"92cbab50\",\"chunk-7e71589a\":\"0b40acb5\",\"chunk-36e65a30\":\"ec0234fb\",\"chunk-39bd985f\":\"394019e4\",\"chunk-5babe420\":\"20636f1d\",\"chunk-6e5b3d4a\":\"18cf284d\",\"chunk-2d21ed68\":\"fb4d9d12\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-47a046e2\":1,\"chunk-26a30cee\":1,\"chunk-273d08e0\":1,\"chunk-2657eece\":1,\"chunk-3be0ca10\":1,\"chunk-60e049cf\":1,\"chunk-7e71589a\":1,\"chunk-36e65a30\":1,\"chunk-39bd985f\":1,\"chunk-5babe420\":1,\"chunk-6e5b3d4a\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0af48a\":\"31d6cfe0\",\"chunk-a45fa086\":\"31d6cfe0\",\"chunk-6e6c150c\":\"31d6cfe0\",\"chunk-2d0b9d35\":\"31d6cfe0\",\"chunk-2d0cb6c3\":\"31d6cfe0\",\"chunk-2d217357\":\"31d6cfe0\",\"chunk-2d22d1db\":\"31d6cfe0\",\"chunk-47a046e2\":\"67ca7f84\",\"chunk-bea16dec\":\"31d6cfe0\",\"chunk-c45573d2\":\"31d6cfe0\",\"chunk-26a30cee\":\"a0aa1ab8\",\"chunk-273d08e0\":\"35b11dc3\",\"chunk-2657eece\":\"669024f1\",\"chunk-2d0abfdc\":\"31d6cfe0\",\"chunk-2d0b3630\":\"31d6cfe0\",\"chunk-2d2138f6\":\"31d6cfe0\",\"chunk-3be0ca10\":\"cffe53f0\",\"chunk-60e049cf\":\"b274e46d\",\"chunk-7e71589a\":\"43984537\",\"chunk-36e65a30\":\"40b21cd9\",\"chunk-39bd985f\":\"4a9e54b2\",\"chunk-5babe420\":\"ddfdbd80\",\"chunk-6e5b3d4a\":\"d332c570\",\"chunk-2d21ed68\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":_vm.$store.state.dark}},[_c('v-navigation-drawer',{attrs:{\"fixed\":\"\",\"app\":\"\",\"clipped\":\"\",\"xxxclass\":\"elevation-5\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('nav-drawer')],1),_c('v-toolbar',{attrs:{\"fixed\":\"\",\"app\":\"\",\"clipped-left\":\"\",\"clipped-right\":\"\",\"xxxstyle\":\"z-index: 100000\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_c('v-toolbar-title',{staticClass:\"text-uppercase font-weight-light\"},[_vm._v(_vm._s(_vm.$route.name))]),_c('v-spacer'),_c('v-btn',{attrs:{\"flat\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":\"\"},nativeOn:{\"click\":function($event){return _vm.fullscreen($event)}}},[_c('v-icon',[_vm._v(_vm._s(_vm.isFullScreen ? \"fullscreen_exit\" :\"fullscreen\"))])],1),(_vm.$route.path.includes(\"view\"))?_c('div',{staticClass:\"mt-1\"},[_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.toggleControlsViewer($event)}}},[_c('v-icon',[_vm._v(_vm._s(_vm.$store.state.viewerControls ? \"close\" :\"3d_rotation\"))])],1)],1):_vm._e()],1),_c('v-content',[_c('keep-alive',{attrs:{\"exclude\":\"StreamDetailView,SigninViewCallback,SigninView\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-list',{attrs:{\"expand\":true,\"subheader\":\"\",\"dense\":\"\",\"two-line\":\"\"}},[_c('v-list-group',{attrs:{\"value\":!_vm.$store.state.isAuth},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-list-tile',{attrs:{\"xxx-v-if\":\"$store.state.serverManifest.serverName\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"account_circle\")])],1),(_vm.$store.state.server)?_c('v-list-tile-content',[_c('v-list-tile-title',{staticClass:\"xxx-font-weight-light caption\"},[_c('b',[_vm._v(_vm._s(_vm.$store.state.serverManifest.serverName))])])],1):_c('v-list-tile-content',[_c('v-list-tile-title',{staticClass:\"xxx-font-weight-light caption\"},[_c('b',[_vm._v(\"No server selected.\")])])],1)],1)]},proxy:true}])},[(_vm.$store.state.isAuth)?_c('v-list-tile',{attrs:{\"to\":\"/profile\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"face\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Profile\")])],1)],1):_vm._e(),(_vm.$store.state.isAuth)?_c('v-list-tile',{on:{\"click\":function($event){return _vm.logout()}}},[_c('v-list-tile-action',[_c('v-icon',{staticClass:\"red--text\"},[_vm._v(\"exit_to_app\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n            Logout\\n          \")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-lightxxx caption\"},[_vm._v(\"\\n            Logs you out of the current server.\\n          \")])],1)],1):_c('v-list-tile',{attrs:{\"to\":\"/signin\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"lock\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Signin\")]),_c('v-list-tile-sub-title',[_vm._v(\"Login or register\")])],1)],1)],1)],1),(_vm.$store.state.isAuth)?_c('v-list',{staticClass:\"pa-0\",attrs:{\"two-line\":\"\"}},[_c('v-list-tile',{attrs:{\"to\":\"/\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"home\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Home\")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-light caption\"},[_vm._v(\"Everything at a glance.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/streams\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"import_export\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Streams\")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-light caption\"},[_vm._v(\"Create and manage your streams.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/projects\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"business\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Projects\")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-light caption\"},[_vm._v(\"Group your data and share it with others.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/trash\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"delete_outline\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Archive\")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-light caption\"},[_vm._v(\"The good old recycle bin.\")])],1)],1),(_vm.$store.state.user.role===\"admin\")?_c('v-list-tile',{attrs:{\"to\":\"/admin\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"settings\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Admin\")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-light caption\"},[_vm._v(\"Server administration\")])],1)],1):_vm._e(),_c('v-divider',{staticClass:\"ma-3\"}),_c('v-list-tile',{attrs:{\"to\":\"/view\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"360\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Viewer\")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-light caption\"},[_vm._v(\"3d speckle stream viewer\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/processors\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"code\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Processor\")]),_c('v-list-tile-sub-title',{staticClass:\"xxx-font-weight-light caption\"},[_vm._v(\"Stream processing\")])],1)],1),_c('v-divider',{staticClass:\"ma-3\"})],1):_vm._e(),(_vm.$store.state.isAuth)?_c('v-list',{attrs:{\"two-line\":\"\",\"subheader\":\"\"}},[_c('v-list-tile',{attrs:{\"href\":\"https://speckle.systems/docs/web/management\",\"target\":\"_blank\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"help\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"App Help\")]),_c('v-list-tile-sub-title',{staticClass:\"caption\"},[_vm._v(\"Help for this web app.\")])],1)],1),_c('v-list-tile',{attrs:{\"href\":\"https://speckle.systems/docs/essentials/start\",\"target\":\"_blank\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"help_outline\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Speckle Help\")]),_c('v-list-tile-sub-title',{staticClass:\"caption\"},[_vm._v(\"How to get started with Speckle.\")])],1)],1)],1):_vm._e(),(_vm.$store.state.isAuth)?_c('v-divider',{attrs:{\"xxxsclass\":\"mb-4\"}}):_vm._e(),_c('v-list',{staticClass:\"ma-0 pa-0\",attrs:{\"dense\":\"\",\"subheader\":\"\"}},[_c('v-list-tile',{on:{\"click\":function($event){return _vm.toggleDark()}}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(_vm._s(_vm.$store.state.dark ? \"wb_sunny\" : \"nights_stay\"))])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(_vm.$store.state.dark ? \"Day Mode\" : \"Dark Mode\"))])],1)],1)],1),_c('v-divider',{staticClass:\"ma-0 pa-0\"}),_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-text',[_c('div',{staticClass:\"text-uppercase text-xs-center-xxx caption ml-0 pa-5 ml-2 mt-3 mb-3\"},[_vm._v(\"\\n      Brought to you by:\"),_c('br'),_c('a',{staticStyle:{\"xxxcolor\":\"white\",\"text-decoration\":\"none\"},attrs:{\"href\":\"https://speckle.works\",\"target\":\"_blank\"}},[_c('b',[_vm._v(\"Speckle\")]),_vm._v(\",\\n        \"),_c('span',{staticClass:\" caption\"},[_vm._v(\"the open source data platform for AEC.\")])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-list class='' :expand='true' subheader dense two-line>\r\n      <v-list-group :value='!$store.state.isAuth'>\r\n        <template v-slot:activator>\r\n          <v-list-tile xxx-v-if='$store.state.serverManifest.serverName'>\r\n            <v-list-tile-action>\r\n              <v-icon>account_circle</v-icon>\r\n            </v-list-tile-action>\r\n            <v-list-tile-content v-if='$store.state.server'>\r\n              <v-list-tile-title class='xxx-font-weight-light caption'>\r\n                <b>{{$store.state.serverManifest.serverName}}</b>\r\n              </v-list-tile-title>\r\n            </v-list-tile-content>\r\n            <v-list-tile-content v-else>\r\n              <v-list-tile-title class='xxx-font-weight-light caption'>\r\n                <b>No server selected.</b>\r\n              </v-list-tile-title>\r\n            </v-list-tile-content>\r\n          </v-list-tile>\r\n        </template>\r\n        <v-list-tile to='/profile' v-if='$store.state.isAuth'>\r\n          <v-list-tile-action>\r\n            <v-icon>face</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>Profile</v-list-tile-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n        <v-list-tile v-if='$store.state.isAuth' @click='logout()'>\r\n          <v-list-tile-action>\r\n            <v-icon class='red--text'>exit_to_app</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>\r\n              Logout\r\n            </v-list-tile-title>\r\n            <v-list-tile-sub-title class='xxx-font-weight-lightxxx caption'>\r\n              Logs you out of the current server.\r\n            </v-list-tile-sub-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n        <v-list-tile to='/signin' v-else>\r\n          <v-list-tile-action>\r\n            <v-icon>lock</v-icon>\r\n          </v-list-tile-action>\r\n          <v-list-tile-content>\r\n            <v-list-tile-title>Signin</v-list-tile-title>\r\n            <v-list-tile-sub-title>Login or register</v-list-tile-sub-title>\r\n          </v-list-tile-content>\r\n        </v-list-tile>\r\n      </v-list-group>\r\n    </v-list>\r\n    <v-list v-if='$store.state.isAuth' two-line class='pa-0'>\r\n      <v-list-tile to='/'>\r\n        <v-list-tile-action>\r\n          <v-icon>home</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Home</v-list-tile-title>\r\n          <v-list-tile-sub-title class='xxx-font-weight-light caption'>Everything at a glance.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/streams'>\r\n        <v-list-tile-action>\r\n          <v-icon>import_export</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Streams</v-list-tile-title>\r\n          <v-list-tile-sub-title class='xxx-font-weight-light caption'>Create and manage your streams.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/projects'>\r\n        <v-list-tile-action>\r\n          <v-icon>business</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Projects</v-list-tile-title>\r\n          <v-list-tile-sub-title class='xxx-font-weight-light caption'>Group your data and share it with others.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/trash'>\r\n        <v-list-tile-action>\r\n          <v-icon>delete_outline</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Archive</v-list-tile-title>\r\n          <v-list-tile-sub-title class='xxx-font-weight-light caption'>The good old recycle bin.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile v-if='$store.state.user.role===\"admin\"' to='/admin'>\r\n        <v-list-tile-action>\r\n          <v-icon>settings</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Admin</v-list-tile-title>\r\n          <v-list-tile-sub-title class='xxx-font-weight-light caption'>Server administration</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n      <v-list-tile to='/view'>\r\n        <v-list-tile-action>\r\n          <v-icon>360</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Viewer</v-list-tile-title>\r\n          <v-list-tile-sub-title class='xxx-font-weight-light caption'>3d speckle stream viewer</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/processors'>\r\n        <v-list-tile-action>\r\n          <v-icon>code</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Processor</v-list-tile-title>\r\n          <v-list-tile-sub-title class='xxx-font-weight-light caption'>Stream processing</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n    </v-list>\r\n    <v-list v-if='$store.state.isAuth' two-line subheader>\r\n      <v-list-tile href='https://speckle.systems/docs/web/management' target='_blank'>\r\n        <v-list-tile-action>\r\n          <v-icon>help</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>App Help</v-list-tile-title>\r\n          <v-list-tile-sub-title class='caption'>Help for this web app.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile href='https://speckle.systems/docs/essentials/start' target='_blank'>\r\n        <v-list-tile-action>\r\n          <v-icon>help_outline</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Speckle Help</v-list-tile-title>\r\n          <v-list-tile-sub-title class='caption'>How to get started with Speckle.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n    <v-divider xxxsclass='mb-4' v-if='$store.state.isAuth'></v-divider>\r\n    <v-list dense subheader class='ma-0 pa-0'>\r\n      <v-list-tile @click='toggleDark()'>\r\n        <v-list-tile-action>\r\n\r\n          <v-icon>{{$store.state.dark ? \"wb_sunny\" : \"nights_stay\"}}</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>{{$store.state.dark ? \"Day Mode\" : \"Dark Mode\"}}</v-list-tile-title>\r\n\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n    <v-divider class='ma-0 pa-0'></v-divider>\r\n    <v-card class='elevation-0' >\r\n      <v-card-text>\r\n      <div class='text-uppercase text-xs-center-xxx caption ml-0 pa-5 ml-2 mt-3 mb-3'>\r\n        Brought to you by:<br>\r\n        <a href='https://speckle.works' target=\"_blank\" style=\"xxxcolor:white; text-decoration: none;\"><b>Speckle</b>,\r\n          <span class=' caption'>the open source data platform for AEC.</span></a>\r\n        <!-- <v-divider class='my-4'></v-divider> -->\r\n      </div>\r\n      </v-card-text>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'SiteNavigation',\r\n  data: _ => ( {\r\n    dark: false,\r\n  } ),\r\n  methods: {\r\n    logout( ) {\r\n      this.$store.dispatch( 'logout' )\r\n      this.$router.push( '/signin' )\r\n    },\r\n    toggleDark( ) {\r\n      this.dark = !this.dark\r\n      localStorage.setItem( 'dark', this.dark )\r\n      this.$store.commit( 'SET_DARK', this.dark )\r\n    },\r\n  },\r\n  mounted() {\r\n    this.dark = this.$store.state.dark\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavDrawer.vue?vue&type=template&id=48e202dd&\"\nimport script from \"./NavDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavDrawer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-app :dark='$store.state.dark'>\r\n    <v-navigation-drawer fixed app clipped xxxclass='elevation-5' v-model='drawer'>\r\n      <nav-drawer></nav-drawer>\r\n    </v-navigation-drawer>\r\n    <v-toolbar fixed app clipped-left clipped-right xxxstyle='z-index: 100000'>\r\n      <v-toolbar-side-icon @click.stop=\"drawer = !drawer\"></v-toolbar-side-icon>\r\n      <v-toolbar-title class='text-uppercase font-weight-light'>{{$route.name}}</v-toolbar-title>\r\n      <v-spacer></v-spacer>\r\n      <v-btn flat fab small color='' @click.native='fullscreen'>\r\n        <v-icon>{{isFullScreen ? \"fullscreen_exit\" :\"fullscreen\"}}</v-icon>\r\n      </v-btn>\r\n      <div v-if='$route.path.includes(\"view\")' class='mt-1'>\r\n        <v-btn fab small color='primary' @click.native='toggleControlsViewer'>\r\n          <v-icon>{{$store.state.viewerControls ? \"close\" :\"3d_rotation\"}}</v-icon>\r\n        </v-btn>\r\n      </div>\r\n    </v-toolbar>\r\n    <v-content>\r\n      <keep-alive exclude='StreamDetailView,SigninViewCallback,SigninView'>\r\n        <router-view></router-view>\r\n      </keep-alive>\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport NavDrawer from './components/NavDrawer.vue'\r\n\r\nexport default {\r\n  name: 'MainApp',\r\n  components: {\r\n    NavDrawer\r\n  },\r\n  data: _ => ( {\r\n    drawer: true,\r\n    dark: false,\r\n    viewerControls: true,\r\n    isFullScreen: false\r\n  } ),\r\n  methods: {\r\n    toggleDark( ) {\r\n      this.dark = !this.dark\r\n      localStorage.setItem( 'dark', this.dark )\r\n    },\r\n    logout( ) {\r\n      this.$store.dispatch( 'logout' )\r\n      this.$router.push( '/signin' )\r\n    },\r\n    toggleControlsViewer( ) {\r\n      this.$store.commit( 'TOGGLE_VIEWER_CONTROLS' )\r\n    },\r\n    fullscreen( ) {\r\n      if ( document.fullscreenElement ) {\r\n        document.exitFullscreen()\r\n        this.isFullScreen = false\r\n        return\r\n      }\r\n\r\n      let element = document.documentElement\r\n      this.isFullScreen = true\r\n      if ( element.requestFullscreen ) {\r\n        element.requestFullscreen( );\r\n      } else if ( element.mozRequestFullScreen ) {\r\n        element.mozRequestFullScreen( );\r\n      } else if ( element.webkitRequestFullscreen ) {\r\n        element.webkitRequestFullscreen( );\r\n      } else if ( element.msRequestFullscreen ) {\r\n        element.msRequestFullscreen( );\r\n      }\r\n    }\r\n  },\r\n  created( ) {\r\n    if ( this.$store.state.isAuth ) {\r\n      this.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\r\n      this.$store.dispatch( 'getProjects' )\r\n      this.$store.dispatch( 'getProcessors' )\r\n      this.$store.dispatch( 'createClient' )\r\n    }\r\n    if ( localStorage.getItem( 'dark' ) === 'true' ) {\r\n      this.dark = true\r\n      this.$store.commit( 'SET_DARK', true )\r\n    }\r\n\r\n    this.$store.dispatch( 'loadLambdas' )\r\n  },\r\n  updated( ) {\r\n    // let overlay = document.getElementsByClassName( \"md-overlay\" )[ 0 ]\r\n    // if ( !overlay ) return\r\n    // overlay.onclick = ( function ( ) {\r\n    //   this.showSidebar = false\r\n    // } ).bind( this )\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n.super-bg {\r\n  background: #448aff;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #448aff, #396afc);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #448aff, #396afc);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.other-bg {\r\n  background: #0052D4;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.royal-bg {\r\n  background: #536976;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #292E49, #536976);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #292E49, #536976);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.light-bg {\r\n  background: #56CCF2;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity .5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.no-scroll {\r\n  overflow: hidden !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=336744c4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function LambdaSettings() {\r\n  this.Lambdas = [ \"receiver\", \"filter\", \"sender\", \"restAPI\", \"downloadobjects\", \"uploadobjects\", \"arupCompute\", \"proximity\"]\r\n}","export const removeArraysRecursive = ( foo ) => {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      //bar[ key + ' (array)' ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = removeArraysRecursive( foo[ key ] )\r\n    } else {\r\n      bar[ key ] = foo[ key ]\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\nexport const getStructuralArrPropKeys = ( foo ) => {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      bar[ key ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = getStructuralArrPropKeys( foo[ key ] )\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\nexport const getTokenMSAL = async ( { clientId, authority, loginRequest } ) => {\r\n  // TODO: THIS CANNOT BE CALLED MULTIPLE TIMES!!!\r\n  // DEPENDS ON LOCAL STORAGE TO PROPERLY OBTAIN CLIENTID\r\n  var userAgent = new Msal.UserAgentApplication( {\r\n    auth: {\r\n      clientId: clientId,\r\n      authority: authority,\r\n      redirectUri: window.location.origin + \"/msal.html\"\r\n    },\r\n    cache: {\r\n      cacheLocation: \"localStorage\",\r\n      storeAuthStateInCookie: true\r\n    },\r\n  } )\r\n\r\n  var token = await userAgent.getCachedToken( clientId )\r\n\r\n  if ( token )\r\n    return token.accessToken\r\n\r\n  try {\r\n    token = await userAgent.acquireTokenSilent( loginRequest )\r\n  } catch ( e ) {\r\n    console.log( 'MSAL Error: ' + e.errorCode )\r\n    if ( e.errorCode === \"user_login_error\" ) {\r\n      window.localStorage.msalClientId = clientId\r\n      await userAgent.loginPopup( loginRequest )\r\n      delete window.localStorage.msalClientId\r\n      return await getTokenMSAL( { clientId: clientId, authority: authority, loginRequest: loginRequest } )\r\n    } else if ( e.errorCode === \"token_renewal_error\" ) {\r\n      window.localStorage.msalClientId = clientId\r\n      token = await userAgent.acquireTokenPopup( loginRequest )\r\n      delete window.localStorage.msalClientId\r\n    }\r\n  }\r\n\r\n  return token.accessToken\r\n}\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport Axios from 'axios'\r\n\r\n// the admin module is a seperate store that includes all the users / streams / projects on the system\r\n// its ADD mutations are unique, and are called by get*Admin actions contained in this module\r\n// but its UPDATE and DELETE mutations are the same as those in the rootStore, so rootStore actions update\r\n// or delete state for projects, streams, and the current user across both stores\r\nconst adminStore = {\r\n  state: {\r\n    streams: [ ],\r\n    users: [ ],\r\n    projects: [ ]\r\n  },\r\n  mutations: {\r\n    //streams\r\n    ADD_STREAMS_ADMIN( state, streams ) {\r\n      streams.forEach( stream => {\r\n        if ( state.streams.findIndex( x => x.streamId === stream.streamId ) === -1 ) {\r\n          // defensive code (vue 3.0 we're off to typescript baby, can't wait)\r\n          if ( !stream.description ) stream.description = '...'\r\n          if ( !stream.tags ) stream.tags = [ ]\r\n          state.streams.unshift( stream )\r\n        }\r\n      } )\r\n    },\r\n    // UPDATE_STREAM( state, props ) {\r\n    //   let found = state.streams.find( s => s.streamId === props.streamId )\r\n    //   if ( !found ) return console.error( 'User not found; aborting update.' )\r\n    //   Object.keys( props ).forEach( key => {\r\n    //     found[ key ] = props[ key ]\r\n    //   } )\r\n    //   found.updatedAt = ( new Date( ) ).toISOString( )\r\n    // },\r\n    // DELETE_STREAM( state, stream ) {\r\n    //   let index = state.streams.findIndex( s => s.streamId === stream.streamId )\r\n    //   if ( index > -1 ) {\r\n    //     state.streams.splice( index, 1 )\r\n    //   } else\r\n    //     console.log( `Failed to remove stream ${stream.streamId} from store.` )\r\n    // },\r\n    //users\r\n    ADD_USERS_ADMIN( state, users ) {\r\n      users.forEach( user => {\r\n        let found = state.users.find( u => u._id === user._id )\r\n        if ( !found )\r\n          state.users.unshift( user )\r\n        else found = user // update the user\r\n      } )\r\n    },\r\n    UPDATE_USER( state, user ) {\r\n      let found = null\r\n      found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        return console.error( 'User not found; aborting update.' )\r\n      Object.keys( user ).forEach( key => {\r\n        found[ key ] = user[ key ]\r\n      } )\r\n    },\r\n    //projects\r\n    ADD_PROJECTS_ADMIN( state, projects ) {\r\n      projects.forEach( project => {\r\n        if ( state.projects.findIndex( p => p._id === project._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !project.tags ) project.tags = [ ]\r\n          if ( !project.deleted ) project.deleted = false\r\n          state.projects.unshift( project )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROJECT( state, props ) {\r\n      let found = state.projects.find( p => p._id === props._id )\r\n      if ( null == found ) return\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_PROJECT( state, props ) {\r\n      let index = state.projects.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.projects.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove project ${props._id} from store.` )\r\n    },\r\n  },\r\n  getters: {},\r\n  actions: {\r\n    //streams\r\n    getStreamsAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'streams/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS_ADMIN', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    //users\r\n    getUsersAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'accounts/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_USERS_ADMIN', res.data.resource )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateUserAdmin( context, user ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.put( \"accounts/\" + user._id, user )\r\n          .then( res => {\r\n            return resolve( context.commit( 'UPDATE_USER', user ) )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n\r\n    },\r\n    //projects\r\n    getProjectsAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'projects/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS_ADMIN', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n  }\r\n}\r\n\r\nexport default adminStore\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\n//viewer store for viewer settings\r\nconst viewerStore = {\r\n  state: {\r\n    showEdges: false,\r\n    edgesThreshold: 45,\r\n    castShadows: false,\r\n    meshOverrides: {\r\n      opacity: 84,\r\n      specular: 30\r\n    }\r\n  },\r\n  mutations: {\r\n    TOGGLE_EDGES( state, payload ) {\r\n      state.showEdges = payload\r\n      localStorage.setItem( 'viewerSettings', JSON.stringify( state ) )\r\n    },\r\n    SET_EDGES_THRESHOLD( state, payload ) {\r\n      state.edgesThreshold = payload\r\n      localStorage.setItem( 'viewerSettings', JSON.stringify( state ) )\r\n    },\r\n    TOGGLE_SHADOWS( state, payload ) {\r\n      state.castShadows = payload\r\n      localStorage.setItem( 'viewerSettings', JSON.stringify( state ) )\r\n    },\r\n    SET_MESH_OPACITY( state, payload ) {\r\n      state.meshOverrides.opacity = payload\r\n      localStorage.setItem( 'viewerSettings', JSON.stringify( state ) )\r\n    },\r\n    SET_MESH_SPECULAR( state, payload ) {\r\n      state.meshOverrides.specular = payload\r\n      localStorage.setItem( 'viewerSettings', JSON.stringify( state ) )\r\n    },\r\n    SET_ALL_VIEWER_SETTINGS( state, payload ) {\r\n      Object.keys( payload ).forEach( key => {\r\n        state[ key ] = payload[ key ]\r\n      } )\r\n    }\r\n  }\r\n}\r\n\r\nexport default viewerStore\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport Axios from 'axios'\r\nimport * as Msal from 'msal'\r\n\r\nimport uniq from 'lodash.uniq'\r\nimport uuid from 'uuid/v4'\r\nimport flatten from 'flat'\r\n\r\nimport { LambdaSettings } from './lambda/_lambdaSettings.js'\r\n\r\nimport { removeArraysRecursive, getStructuralArrPropKeys, getTokenMSAL } from './utilities.js'\r\n\r\nVue.use( Vuex )\r\n\r\n// import store modules\r\nimport admin from './admin.js'\r\nimport viewer from './viewer.js'\r\n\r\n// main store module\r\nexport default new Vuex.Store( {\r\n  state: {\r\n    // The canonical and correct server url, i.e. `https://speckle.server.com/api`\r\n    server: null,\r\n    // The server description\r\n    serverManifest: null,\r\n    token: null,\r\n    user: {},\r\n    isAuth: false,\r\n    // where all the streams and their properties are stored.\r\n    streams: [ ],\r\n    // data editable streams; we store objects and layers in here. rest of metadata\r\n    // is in streams proper array (see above).\r\n    deStreams: [ ],\r\n    // global store for stream clients.\r\n    clients: [ ],\r\n    // global store for projects\r\n    projects: [ ],\r\n    comments: [ ],\r\n    // global store for users. it's dynamically assembled as the end-user moves through\r\n    // the admin ui, and new user profiles need to be requested.\r\n    users: [ ],\r\n    // viewer/processor related\r\n    loadedStreamIds: [ ],\r\n    objects: [ ],\r\n    legend: null,\r\n    selectedObjects: [ ],\r\n    // client (used for ws requests, etc.)\r\n    myClient: null,\r\n    // app dark mode?\r\n    dark: false,\r\n    // toggles viewer controls\r\n    viewerControls: false,\r\n\r\n    // processor related\r\n    // these are the function names for each block from /src/lambda\r\n    // if you want to add your own lambda, add the function/file name to the list to expose it\r\n    lambdas: [ ],\r\n    processors: [ ],\r\n    tokens: {},\r\n  },\r\n  getters: {\r\n    streamClients: ( state ) => ( streamId ) => {\r\n      return state.clients.filter( c => c.streamId === streamId )\r\n    },\r\n    filteredResources: ( state ) => ( filters, resourceType ) => {\r\n\r\n      if ( !resourceType ) resourceType = \"streams\"\r\n\r\n      let base = [ ]\r\n\r\n      if ( resourceType === \"streams\" )\r\n        base = state.streams.filter( stream => stream.parent == null && stream.deleted === false )\r\n\r\n      if ( resourceType === \"projects\" )\r\n        base = state.projects.filter( project => project.deleted === false )\r\n\r\n      if ( !filters || filters.length === 0 ) return base\r\n      filters.forEach( query => {\r\n        query.key = query.key.toLowerCase( )\r\n        if ( query.value === null ) base = base\r\n        else {\r\n          base = base.filter( stream => stream.name !== '' )\r\n          switch ( query.key ) {\r\n            case 'private':\r\n              if ( query.value )\r\n                base = base.filter( stream => stream.private.toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === true )\r\n              break\r\n            case 'public':\r\n              if ( query.value )\r\n                base = base.filter( stream => ( !stream.private ).toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === false )\r\n              break\r\n            case 'tag':\r\n            case 'tags':\r\n              let myTags = query.value.trim( ).split( ',' ).map( t => t.toLowerCase( ).trim( ) )\r\n              console.log( myTags )\r\n              base = base.filter( stream => {\r\n                let streamTags = stream.tags.map( t => t.toLowerCase( ) )\r\n                return myTags.every( t => streamTags.includes( t ) )\r\n              } )\r\n              break\r\n            case 'jn':\r\n              base = base.filter( resource => resource.jobNumber === query.value.trim( ) )\r\n              break\r\n            case 'owner':\r\n              if ( query.value.toLowerCase( ).trim( ) === 'me' ) {\r\n                base = base.filter( stream => stream.owner === state.user._id )\r\n              }\r\n              break;\r\n            case 'mine':\r\n              base = base.filter( stream => stream.owner === state.user._id )\r\n              break;\r\n            case 'shared':\r\n              base = base.filter( stream => stream.owner !== state.user._id )\r\n              break;\r\n            case 'name':\r\n              base = base.filter( stream => stream.name ? stream.name.toLowerCase( ).includes( query.value.toLowerCase( ) ) : true )\r\n              break\r\n            case 'streamid':\r\n            case 'id':\r\n              base = base.filter( stream => stream.streamId.toLowerCase( ).includes( query.value.toLowerCase( ) ) )\r\n              break\r\n          }\r\n        }\r\n      } )\r\n      return base\r\n    },\r\n    objectPropertyKeys: ( state ) => {\r\n      let keySet = new Set( )\r\n      let stringKeySet = new Set( )\r\n      state.objects.forEach( obj => {\r\n        if ( !obj.properties ) return\r\n        let flatProps = flatten( removeArraysRecursive( obj.properties ) )\r\n        for ( let key in flatProps ) {\r\n          if ( key === 'hash' || key === 'id' || key.toLowerCase( ).includes( 'hash' ) || key.toLowerCase( ).includes( '_carbon' ) ) continue\r\n          if ( key.includes( '__' ) ) continue\r\n          keySet.add( key )\r\n          if ( typeof flatProps[ key ] === 'string' )\r\n            stringKeySet.add( key )\r\n        }\r\n      } )\r\n      let keySets = {\r\n        allKeys: [ ...keySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n        stringKeys: [ ...stringKeySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n      }\r\n      return keySets\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    hasStructuralProperties: ( state ) => {\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          if ( obj.properties.structural.result !== null )\r\n            return true\r\n        } catch {}\r\n      }\r\n      return false\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    structuralKeys: ( state ) => {\r\n      let keys = new Set( )\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          let props = flatten( getStructuralArrPropKeys( obj.properties.structural.result ) )\r\n          for ( let key in props )\r\n            keys.add( key )\r\n        } catch {}\r\n      }\r\n      return [ ...keys ]\r\n    },\r\n    allTags: ( state ) => {\r\n      let tagSet = new Set( )\r\n      state.streams.forEach( stream => {\r\n        if ( !stream.deleted )\r\n          stream.tags.forEach( t => tagSet.add( t ) )\r\n      } )\r\n      state.projects.forEach( project => {\r\n        project.tags.forEach( t => tagSet.add( t ) )\r\n      } )\r\n      return [ ...tagSet ]\r\n    },\r\n    allStreamTags: ( state ) => {\r\n      let tagSet = new Set( )\r\n      state.streams.forEach( stream => {\r\n        if ( !stream.deleted )\r\n          stream.tags.forEach( t => tagSet.add( t ) )\r\n      } )\r\n      return [ ...tagSet ]\r\n    },\r\n    allProjectTags: ( state ) => {\r\n      let tagSet = new Set( )\r\n      state.projects.forEach( project => {\r\n        project.tags.forEach( t => tagSet.add( t ) )\r\n      } )\r\n      return [ ...tagSet ]\r\n    },\r\n    allJobNumbers: ( state ) => {\r\n      let set = new Set( )\r\n      state.streams.forEach( stream => set.add( stream.jobNumber ) )\r\n      state.projects.forEach( project => set.add( project.jobNumber ) )\r\n      return [ ...set ]\r\n    },\r\n    allJobNumbersStreams: ( state ) => {\r\n      let set = new Set( )\r\n      state.streams.forEach( stream => set.add( stream.jobNumber ) )\r\n      // state.projects.forEach( project => set.add( project.jobNumber ) )\r\n      return [ ...set ]\r\n    },\r\n    allJobNumbersProjects: ( state ) => {\r\n      let set = new Set( )\r\n      // state.streams.forEach( stream => set.add( stream.jobNumber ) )\r\n      state.projects.forEach( project => set.add( project.jobNumber ) )\r\n      return [ ...set ]\r\n    }\r\n  },\r\n  mutations: {\r\n    SET_DARK( state, dark ) {\r\n      state.dark = dark\r\n    },\r\n    TOGGLE_VIEWER_CONTROLS( state ) {\r\n      state.viewerControls = !state.viewerControls\r\n    },\r\n    SET_VIEWER_CONTROLS( state, value ) {\r\n      state.viewerControls = value\r\n    },\r\n    // Streams\r\n    ADD_STREAMS( state, streams ) {\r\n      streams.forEach( stream => {\r\n        if ( state.streams.findIndex( x => x.streamId === stream.streamId ) === -1 ) {\r\n          if ( !stream.description ) stream.description = '...'\r\n          if ( !stream.tags ) stream.tags = [ ]\r\n          if ( !stream.jobNumber ) stream.jobNumber = ''\r\n          state.streams.unshift( stream )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_STREAM( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( !found ) return console.error( 'stream not found; aborting update.' )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    UPDATE_STREAM_DATA( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( props.layers )\r\n        found.layers = props.layers\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n      // console.log('TODO')\r\n    },\r\n    DELETE_STREAM( state, stream ) {\r\n      let index = state.streams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index > -1 ) {\r\n        state.streams.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove stream ${stream.streamId} from store.` )\r\n    },\r\n\r\n    // Clients\r\n    ADD_CLIENTS( state, clients ) {\r\n      clients.forEach( client => {\r\n        if ( state.clients.findIndex( x => x._id === client._id ) === -1 ) {\r\n          state.clients.push( client )\r\n        }\r\n      } )\r\n    },\r\n\r\n    ADD_DE_STREAM( state, stream ) {\r\n      let found = state.deStreams.find( s => s.streamId === stream )\r\n      if ( !found )\r\n        state.deStreams.push( stream )\r\n      else {\r\n        found.layers = stream.layers\r\n        found.objects = stream.objects\r\n      }\r\n    },\r\n    ADD_DE_STREAM_LAYER( state, stream ) {\r\n      console.log( stream )\r\n      let found = state.deStreams.find( s => s.streamId === stream.streamId )\r\n      let newLayer = {\r\n        name: `Param group ${found.layers.length + 1}`,\r\n        orderIndex: found.layers.length,\r\n        startIndex: found.objects.length,\r\n        objectCount: 0,\r\n        topology: \"0-0\",\r\n        guid: uuid( ),\r\n      }\r\n      found.layers.push( newLayer )\r\n    },\r\n    UPDATE_DE_STREAM_LAYER( state, { streamId, layer, objects } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let surpassed = false,\r\n        objectCountDifference = 0\r\n\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex += objectCountDifference\r\n        } else if ( iterLayer.guid === layer.guid ) {\r\n          iterLayer.name = layer.name\r\n          iterLayer.topology = `0-${objects.length}`\r\n          objectCountDifference = objects.length - iterLayer.objectCount\r\n          found.objects.splice( iterLayer.startIndex, iterLayer.objectCount, ...objects )\r\n          iterLayer.objectCount = objects.length\r\n          surpassed = true\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_DE_STREAM_LAYER( state, { streamId, layer } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      // dump objects\r\n      found.objects.splice( layer.startIndex, layer.objectCount )\r\n      // adjust start indexes\r\n      let surpassed = false\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex -= layer.objectCount\r\n          iterLayer.orderIndex -= 1\r\n        } else if ( iterLayer.guid === layer.guid ) surpassed = true\r\n      } )\r\n      // dump layer\r\n      found.layers = found.layers.filter( l => l.guid !== layer.guid )\r\n    },\r\n    APPEND_DE_STREAM_LAYERS_FROM_CSV( state, { streamId, transposed } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let index = 0\r\n      for ( let arr of transposed ) {\r\n        let newLayer = {\r\n          name: arr[ 0 ] !== '' ? arr[ 0 ] : \"Unnamed\",\r\n          orderIndex: -1, // to be set properly afterwards\r\n          startIndex: index === 0 ? found.objects.length : found.objects.length,\r\n          objectCount: arr.length - 1,\r\n          topology: `0-${arr.length-1}`,\r\n          guid: uuid( ),\r\n        }\r\n        found.layers.push( newLayer )\r\n        let noHeader = arr.slice( 1, arr.length )\r\n        console.log( noHeader )\r\n        found.objects.push( ...noHeader.map( val => {\r\n          if ( !val ) return { type: \"Null\", value: \"\" }\r\n          if ( typeof val === 'boolean' )\r\n            return { type: \"Boolean\", value: val }\r\n          if ( typeof val === 'number' )\r\n            return { type: \"Number\", value: val } // TODO: Hash it please\r\n          if ( typeof val === 'string' )\r\n            return { type: \"String\", value: val } // TODO: Hash it please\r\n        } ) )\r\n        index++\r\n      }\r\n      found.layers.forEach( ( layer, k ) => {\r\n        console.log( k )\r\n        layer.orderIndex = k\r\n      } )\r\n    },\r\n    // Projects\r\n    ADD_PROJECTS( state, projects ) {\r\n      projects.forEach( project => {\r\n        if ( state.projects.findIndex( p => p._id === project._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !project.tags ) project.tags = [ ]\r\n          if ( !project.deleted ) project.deleted = false\r\n          if ( !project.jobNumber ) project.jobNumber = ''\r\n          state.projects.unshift( project )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROJECT( state, props ) {\r\n      let found = state.projects.find( p => p._id === props._id )\r\n      if ( found == null ) return console.warn( 'The admin user is not on this project' )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_PROJECT( state, props ) {\r\n      let index = state.projects.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.projects.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove project ${props._id} from store.` )\r\n    },\r\n\r\n    // Processors\r\n    ADD_LAMBDAS( state, lambdas ) {\r\n      lambdas.forEach( lambda => {\r\n        if ( state.lambdas.findIndex( p => p.function === lambda.function ) === -1 ) {\r\n          state.lambdas.push( lambda )\r\n        }\r\n      } )\r\n    },\r\n    ADD_PROCESSORS( state, processors ) {\r\n      processors.forEach( processor => {\r\n        if ( state.processors.findIndex( p => p._id === processor._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !processor.tags ) processor.tags = [ ]\r\n          state.processors.unshift( processor )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROCESSOR( state, props ) {\r\n      let found = state.processors.find( p => p._id == props._id )\r\n\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n    },\r\n    DELETE_PROCESSOR( state, props ) {\r\n      let index = state.processors.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.processors.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove processor ${props._id} from store.` )\r\n    },\r\n    ADD_TOKEN( state, { id, token } ) {\r\n      Vue.set( state.tokens, id, token )\r\n      console.log( state.tokens )\r\n    },\r\n    DELETE_TOKEN( state, id ) {\r\n      Vue.delete( state.tokens, id )\r\n      console.log( state.tokens )\r\n    },\r\n\r\n    // Users\r\n    ADD_USER( state, user ) {\r\n      let found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        state.users.unshift( user )\r\n      else found = user // update the user\r\n    },\r\n    ADD_USERS( state, users ) {\r\n      users.forEach( user => {\r\n        let found = state.users.find( u => u._id === user._id )\r\n        if ( !found )\r\n          state.users.unshift( user )\r\n        else found = user // update the user\r\n      } )\r\n    },\r\n    UPDATE_USER( state, user ) {\r\n      let found = null\r\n      if ( user._id === state.user._id ) found = state.user\r\n      else\r\n        found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        return console.error( 'User not found; aborting update.' )\r\n      Object.keys( user ).forEach( key => {\r\n        found[ key ] = user[ key ]\r\n      } )\r\n    },\r\n\r\n    // Generics\r\n    SET_SERVER( state, server ) {\r\n      state.server = server\r\n    },\r\n    SET_SERVER_DETAILS( state, serverManifest ) {\r\n      state.serverManifest = serverManifest\r\n    },\r\n    SET_TOKEN( state, token ) {\r\n      state.token = token\r\n      state.isAuth = true\r\n    },\r\n    SET_USER( state, user ) {\r\n      state.user = user\r\n    },\r\n    SET_WEB_APP_CLIENT( state, client ) {\r\n      state.client = client\r\n    },\r\n\r\n    // End of life\r\n    FLUSH_ALL( state ) {\r\n      state.token = null\r\n      state.user = {}\r\n      state.streams = [ ]\r\n      state.projects = [ ]\r\n      state.clients = [ ]\r\n      state.users = [ ]\r\n      state.comments = [ ]\r\n      state.isAuth = false\r\n      state.server = null\r\n    },\r\n\r\n    // Viewer related\r\n    ADD_LOADED_STREAMID( state, streamId ) {\r\n      state.loadedStreamIds = [ ...new Set( [ ...state.loadedStreamIds, streamId ] ) ]\r\n    },\r\n    REMOVE_LOADED_STREAMID( state, streamId ) {\r\n      let index = state.loadedStreamIds.indexOf( streamId )\r\n      if ( index !== -1 )\r\n        state.loadedStreamIds.splice( index, 1 )\r\n      else\r\n        console.warn( `Failed to remove loaded streamid: ${streamId} from ${state.loadedStreamIds}` )\r\n    },\r\n    // OBJECTS\r\n    ADD_OBJECTS( state, objects ) {\r\n      state.objects.push( ...objects )\r\n    },\r\n    UPDATE_OBJECTS_STREAMS( state, { objIds, streamToAdd, streamToRemove } ) {\r\n      objIds.forEach( id => {\r\n        let myObject = state.objects.find( o => o._id === id )\r\n        if ( myObject ) {\r\n          if ( streamToAdd && myObject.streams.indexOf( streamToAdd ) === -1 )\r\n            myObject.streams.push( streamToAdd )\r\n          if ( streamToRemove ) {\r\n            let index = myObject.streams.indexOf( streamToRemove )\r\n            if ( index !== -1 ) myObject.streams.splice( index, 1 )\r\n          }\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_OBJECTS( state, objectIds ) {\r\n      state.objects = state.objects.filter( obj => objectIds.indexOf( obj._id ) === -1 )\r\n    },\r\n    // Selected objects setters\r\n    SET_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      if ( objectIds.length > 0 )\r\n        state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n      else\r\n        state.selectedObjects = [ ]\r\n    },\r\n    ADD_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n    },\r\n    REMOVE_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      objectIds.forEach( id => {\r\n        let index = state.selectedObjects.indexOf( id )\r\n        if ( index !== -1 ) state.selectedObjects.splice( index, 1 )\r\n      } )\r\n    },\r\n    SET_LEGEND( state, legend ) {\r\n      state.legend = legend\r\n    },\r\n  },\r\n  actions: {\r\n    // Streams\r\n    getStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.streams.find( s => s.streamId === props.streamId )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    refreshStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'UPDATE_STREAM', res.data.resource )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n\r\n    getStreams( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createStream( context, stream ) {\r\n      let streamId = null\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `streams` )\r\n          .then( res => {\r\n            console.log( res )\r\n            stream.streamId = res.data.resource.streamId\r\n            res.data.resource.onlineEditable = true\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            //namespacing the admin module caused other issues, so we'll call this here as well\r\n            context.commit( 'ADD_STREAMS_ADMIN', [ res.data.resource ] )\r\n            return Axios.put( `streams/${res.data.resource.streamId}`, stream )\r\n          } )\r\n          .then( res => {\r\n            console.log( res )\r\n            context.commit( 'UPDATE_STREAM', stream )\r\n            return resolve( stream )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateStream( context, props ) {\r\n      Axios.put( `streams/${props.streamId}`, props )\r\n        .then( res => {\r\n          // modules.admin\r\n          context.commit( 'UPDATE_STREAM', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    // For data-editable streams only\r\n    updateStreamObjectsAndLayers: ( context, { streamId, commitMessage } ) => new Promise( ( resolve, reject ) => {\r\n      let found = context.state.deStreams.find( s => s.streamId === streamId )\r\n      if ( !found ) return reject( new Error( 'Stream not found in store.' ) )\r\n\r\n      found.commitMessage = commitMessage + ` (changed by ${context.state.user.name} ${context.state.user.surname})`\r\n      found.lastChangedBy = context.state.user._id\r\n\r\n      context.commit( 'UPDATE_STREAM', { streamId: streamId, commitMessage: commitMessage } )\r\n\r\n      Axios.post( `streams/${streamId}/clone` )\r\n        .then( res => {\r\n          let originalStream = context.state.streams.find( s => s.streamId === streamId )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, children: [ ...originalStream.children, res.data.clone.streamId ] } )\r\n          return Axios.put( `streams/${streamId}`, found )\r\n        } )\r\n        .then( res => resolve( res ) )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n    getStreamClients( context, props ) {\r\n      Axios.get( `streams/${props.streamId}/clients` )\r\n        .then( res => {\r\n          context.commit( 'ADD_CLIENTS', res.data.resources )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n    deleteStream( context, payload ) {\r\n      // TODO: https://github.com/speckleworks/SpeckleAdmin/issues/19\r\n      Axios.delete( `streams/${payload.streamId}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_STREAM', { streamId: payload.streamId } )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n\r\n    // objects\r\n    getStreamObjects( context, streamId ) {\r\n      let found = context.state.streams.find( s => s.streamId === streamId )\r\n      return new Promise( ( resolve, reject ) => {\r\n        context.dispatch( 'getStream', { streamId: streamId } )\r\n          .then( ( ) => {\r\n            return Axios.get( `streams/${streamId}?fields=objects,layers` )\r\n          } )\r\n          .then( res => {\r\n            let ids = res.data.resource.objects.map( o => o._id )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, objects: ids, layers: res.data.resource.layers } )\r\n            resolve( ids )\r\n          } )\r\n          .catch( err => {\r\n            reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getObjects( context, objectIds ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `objects/getbulk?omit=base64,rawData,canRead,canWrite,children,anonymousComments,name`, objectIds )\r\n          .then( res => {\r\n            // context.state.objects.push( ...res.data.resources )\r\n            // context.commit( 'ADD_OBJECTS', res.data.resources )\r\n            resolve( res.data.resources )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n    createObjects( context, objects ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `objects`, objects )\r\n          .then( res => resolve( res.data.resources ) )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n\r\n    // projects\r\n    getProject( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects/${props._id}` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getProjects( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createProject( context, project ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `projects`, project ? project : { name: 'A new speckle project' } )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            //namespacing the admin module caused other issues, so we'll call this here as well\r\n            context.commit( 'ADD_PROJECTS_ADMIN', [ res.data.resource ] )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateProject( context, props ) {\r\n      Axios.put( `projects/${props._id}`, props )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    addUserToProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/adduser/${userId}` )\r\n        .then( res => {\r\n          let permissions = { canWrite: [ ...new Set( [ ...project.permissions.canWrite, userId ] ) ], canRead: project.permissions.canRead }\r\n          let canRead = [ ...new Set( [ ...project.canRead, userId ] ) ]\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: permissions, canRead: canRead } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    upgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/upgradeuser/${userId}` )\r\n        .then( res => {\r\n          return Axios.get( `projects/${projectId}?fields=permissions` )\r\n        } )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', {\r\n            _id: projectId,\r\n            permissions: {\r\n              canRead: res.data.resource.permissions.canRead, //[ ...new Set( [ ...project.canRead, userId ] ) ],\r\n              canWrite: res.data.resource.permissions.canWrite //[ ...new Set( [ ...project.canWrite, userId ] ) ]\r\n            }\r\n          } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    downgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/downgradeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: res.data.project.permissions } )\r\n          res.data.streamsToAddReadAndPullWrite.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          res.data.streamsToAddToRead.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.delete( `projects/${projectId}/removeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, canRead: res.data.project.canRead, canWrite: res.data.project.canWrite, permissions: res.data.project.permissions } )\r\n          res.data.streamsToPullBothFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ), canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullWriteFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullReadFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    addStreamToProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/addstream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeStreamFromProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.delete( `projects/${projectId}/removestream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    deleteProject: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n      Axios.delete( `projects/${props._id}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_PROJECT', { _id: props._id } )\r\n          for ( let stream of res.data.modifiedStreams ) {\r\n            context.commit( 'UPDATE_STREAM', { streamId: stream.streamId, canRead: stream.canRead, canWrite: stream.canWrite } )\r\n          }\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n\r\n    // processors\r\n    loadLambdas( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let promises = [ ]\r\n        let myLambdas = new LambdaSettings( ).Lambdas\r\n\r\n        for ( let i = 0; i < myLambdas.length; i++ ) {\r\n          promises.push(\r\n            Axios( {\r\n              method: 'GET',\r\n              url: `.netlify/functions/${myLambdas[i]}`,\r\n              baseURL: location.protocol + '//' + location.host,\r\n            } ).catch( err => console.log( `Failed to load lambda: ${myLambdas[i]}` ) )\r\n          )\r\n        }\r\n\r\n        Promise.all( promises )\r\n          .then( res => {\r\n            var lambdas = [ ]\r\n\r\n            res.forEach( r => {\r\n              if ( r ) {\r\n                let data = r.data\r\n                data.function = r.request.responseURL.split( '/' ).slice( -1 ).pop( )\r\n                lambdas.push( data )\r\n              }\r\n            } )\r\n\r\n            context.commit( 'ADD_LAMBDAS', lambdas )\r\n            return resolve( lambdas )\r\n          } )\r\n      } )\r\n\r\n\r\n    },\r\n    getProcessor( context, props ) {\r\n      var processor = JSON.parse( window.localStorage.getItem( \"processor_\" + props._id ) )\r\n\r\n      if ( processor !== null )\r\n        context.commit( 'ADD_PROCESSORS', [ processor ] )\r\n\r\n      return processor\r\n    },\r\n    getProcessors( context ) {\r\n      var processorIds = JSON.parse( window.localStorage.getItem( \"processorIds\" ) )\r\n\r\n      if ( processorIds === null )\r\n        return null\r\n\r\n      var processors = [ ]\r\n      processorIds.forEach( id => {\r\n        var processor = JSON.parse( window.localStorage.getItem( \"processor_\" + id ) )\r\n        if ( processor != null )\r\n          processors.unshift( processor )\r\n      } )\r\n\r\n      context.commit( 'ADD_PROCESSORS', processors )\r\n\r\n      return processors\r\n    },\r\n    createProcessor( context, processor ) {\r\n      var id = uuid( )\r\n\r\n      var proc = processor ? processor : { name: 'A new speckle processor' }\r\n\r\n      // Always assign new ID\r\n      proc._id = id\r\n\r\n      if ( !proc.hasOwnProperty( 'description' ) )\r\n        proc.description = \"This is a simple speckle processor.\"\r\n\r\n      if ( !proc.hasOwnProperty( 'tags' ) )\r\n        proc.tags = [ ]\r\n\r\n      if ( !proc.hasOwnProperty( 'blocks' ) )\r\n        proc.blocks = [ ]\r\n\r\n      if ( !proc.hasOwnProperty( 'params' ) )\r\n        proc.params = [ ]\r\n\r\n      // Properties added for compatibility with other components\r\n      // as well as for future storage in server\r\n      proc.owner = context.state.user._id\r\n      proc.private = false\r\n      proc.canRead = [ context.state.user._id ]\r\n      proc.canWrite = [ context.state.user._id ]\r\n\r\n      proc.anonymousComments = false\r\n      proc.comments = [ ]\r\n\r\n      window.localStorage.setItem(\r\n        \"processor_\" + id,\r\n        JSON.stringify( proc )\r\n      )\r\n\r\n      context.commit( 'ADD_PROCESSORS', [ proc ] )\r\n\r\n      var processorIds = JSON.parse( window.localStorage.getItem( \"processorIds\" ) )\r\n\r\n      if ( processorIds === null )\r\n        processorIds = [ ]\r\n\r\n      processorIds.unshift( id )\r\n\r\n      window.localStorage.setItem(\r\n        \"processorIds\",\r\n        JSON.stringify( processorIds )\r\n      )\r\n\r\n      return proc\r\n    },\r\n    updateProcessor( context, props ) {\r\n      let found = JSON.parse( window.localStorage.getItem( \"processor_\" + props._id ) )\r\n\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      window.localStorage.setItem(\r\n        \"processor_\" + props._id,\r\n        JSON.stringify( found )\r\n      )\r\n\r\n      context.commit( 'UPDATE_PROCESSOR', props )\r\n    },\r\n    deleteProcessor( context, props ) {\r\n      window.localStorage.removeItem( \"processor_\" + props._id )\r\n\r\n      context.commit( 'DELETE_PROCESSOR', props )\r\n\r\n      var processorIds = JSON.parse( window.localStorage.getItem( \"processorIds\" ) )\r\n\r\n      if ( processorIds !== null ) {\r\n        var foundIndex = processorIds.indexOf( props._id )\r\n        if ( foundIndex !== -1 ) {\r\n          processorIds.splice( foundIndex, 1 )\r\n\r\n          window.localStorage.setItem(\r\n            \"processorIds\",\r\n            JSON.stringify( processorIds )\r\n          )\r\n        }\r\n      }\r\n    },\r\n    async authenticateBlocks( context, blocks ) {\r\n      for ( let i = 0; i < blocks.length; i++ ) {\r\n        if ( blocks[ i ].msal ) {\r\n          let propName = 'msal|' + blocks[ i ].msal.clientId\r\n          let token = await getTokenMSAL( blocks[ i ].msal )\r\n          context.commit( 'ADD_TOKEN', { id: propName, token: token } )\r\n        }\r\n      }\r\n    },\r\n\r\n    // client for ws ids, etc.\r\n    createClient: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n\r\n      // NOTE: This is a stupid hack. To get a temp client, we need to be not auhtorised : /\r\n      delete Axios.defaults.headers.common[ 'Authorization' ]\r\n\r\n      Axios.post( `clients`, { role: 'online-client', documentName: 'Online interface', documentType: 'browser', online: true } )\r\n        .then( res => {\r\n          context.commit( 'SET_WEB_APP_CLIENT', res.data.resource )\r\n          return resolve( res.data.resource )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n      // set the headers back. man what a stupid hack this is...\r\n      Axios.defaults.headers.common[ 'Authorization' ] = context.state.token\r\n    } ),\r\n\r\n    // users\r\n    getUser( context, payload ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.users.find( u => u._id === payload._id )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `accounts/${payload._id}` )\r\n          .then( res => {\r\n            if ( context.state.user._id === payload._id ) res.data.resource.surname += ' (that is you!)'\r\n            context.commit( 'ADD_USER', res.data.resource )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    updateLoggedInUser: ( context, payload ) => new Promise( ( resolve, reject ) => {\r\n      console.log( payload )\r\n      Axios.put( `accounts`, payload )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_USER', payload )\r\n          return resolve( res )\r\n        } )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n\r\n    // Auth\r\n    authenticate: ( context, payload ) => new Promise( async ( resolve, reject ) => {\r\n      try {\r\n        let userProfile = await Axios.get( new URL( \"/api/accounts\", payload.server ), { headers: { 'Authorization': payload.token } } )\r\n        console.log( userProfile )\r\n        context.commit( 'SET_TOKEN', payload.token )\r\n        context.commit( 'SET_USER', userProfile.data.resource )\r\n        context.commit( 'SET_SERVER', new URL( \"/api\", payload.server ) )\r\n\r\n        let serverDetails = await Axios.get( `${payload.server}/api` )\r\n        context.commit( 'SET_SERVER_DETAILS', serverDetails.data )\r\n\r\n        Axios.defaults.headers.common[ 'Authorization' ] = payload.token\r\n        Axios.defaults.baseURL = `${payload.server}/api`\r\n\r\n        localStorage.setItem( 'currentServer', `${payload.server}/api` )\r\n        localStorage.setItem( 'token', payload.token )\r\n\r\n        let usedServers = localStorage.getItem( 'allSpeckleServers' ) ? new Set( localStorage.getItem( 'allSpeckleServers' ).split( ',' ) ) : new Set( [ `${payload.server}/api` ] )\r\n        // if( !usedServers ) usedServers = new Set([`${payload.server}/api`])\r\n        usedServers.add( `${payload.server}/api` )\r\n        console.log( `${payload.server}/api` )\r\n        console.log( usedServers )\r\n        localStorage.setItem( 'allSpeckleServers', [ ...usedServers ] )\r\n\r\n        return resolve( )\r\n      } catch ( err ) {\r\n        console.log( err )\r\n        return reject( err.message )\r\n      }\r\n    } ),\r\n\r\n    logout( context, payload ) {\r\n      context.commit( 'FLUSH_ALL' )\r\n      localStorage.removeItem( 'token' )\r\n      localStorage.removeItem( 'viewerSettings' )\r\n      localStorage.removeItem( 'currentServer' )\r\n      Axios.defaults.headers.common[ 'Authorization' ] = ''\r\n      Axios.defaults.baseURL = ''\r\n    }\r\n  },\r\n  modules: {\r\n    admin: admin,\r\n    viewer: viewer,\r\n  }\r\n} )\r\n","import base64url from 'base64url'\r\nimport Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Store from './store/store'\r\n\r\nVue.use( Router )\r\n\r\nlet myRouter = new Router( {\r\n  linkExactActiveClass: 'is-active',\r\n  routes: [ {\r\n      path: '/',\r\n      name: 'dashboard',\r\n      component: ( ) => import( './views/Dashboard.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/signin:redirectTo?',\r\n      name: 'signin',\r\n      component: ( ) => import( './views/Signin.vue' ),\r\n      beforeEnter( to, from, next ) {\r\n        next( )\r\n      }\r\n    },\r\n    {\r\n      path: '/signin/callback',\r\n      name: 'signin-cb',\r\n      component: ( ) => import( './views/SigninCallback.vue' ),\r\n    },\r\n    {\r\n      path: '/streams',\r\n      name: 'streams',\r\n      component: ( ) => import( './views/Streams.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/streams/:streamId',\r\n      component: ( ) => import( './views/Stream.vue' ),\r\n      meta: { requiresAuth: true },\r\n      children: [ {\r\n        name: 'stream overview',\r\n        path: '',\r\n        component: ( ) => import( './views/StreamOverview.vue' )\r\n      }, {\r\n        name: 'stream data',\r\n        path: 'data',\r\n        component: ( ) => import( './views/StreamData.vue' )\r\n      }, {\r\n        name: 'stream sharing',\r\n        path: 'sharing',\r\n        component: ( ) => import( './views/StreamSharing.vue' )\r\n      }, {\r\n        name: 'stream history',\r\n        path: 'history',\r\n        component: ( ) => import( './views/StreamHistory.vue' )\r\n      } ]\r\n    },\r\n    {\r\n      path: '/projects',\r\n      name: 'projects',\r\n      component: ( ) => import( './views/Projects.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/projects/:projectId',\r\n      name: 'project overview',\r\n      component: ( ) => import( './views/Project.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/view/:streamIds*',\r\n      name: 'viewer',\r\n      component: ( ) => import( './views/Viewer.vue' ),\r\n      meta: { requiresAuth: false },\r\n    },\r\n    {\r\n      path: '/trash',\r\n      name: 'trash',\r\n      component: ( ) => import( './views/Trash.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/profile',\r\n      name: 'profile',\r\n      component: ( ) => import( './views/Profile.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/admin',\r\n      name: 'admin',\r\n      component: ( ) => import( './views/Admin.vue' ),\r\n      meta: { requiresAuth: true },\r\n      children: [ {\r\n        name: 'admin users',\r\n        path: '',\r\n        component: ( ) => import( './views/AdminUsers.vue' )\r\n      }, {\r\n        name: 'admin streams',\r\n        path: 'streams',\r\n        component: ( ) => import( './views/AdminStreams.vue' )\r\n      }, {\r\n        name: 'admin projects',\r\n        path: 'projects',\r\n        component: ( ) => import( './views/AdminProjects.vue' )\r\n      } ]\r\n    },\r\n    {\r\n      path: '/processors',\r\n      name: 'processors',\r\n      component: ( ) => import( './views/Processors.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/processors/:processorId',\r\n      name: 'processor overview',\r\n      component: ( ) => import( './views/Processor.vue' ),\r\n      meta: { requiresAuth: true },\r\n    }\r\n  ],\r\n} )\r\n\r\nmyRouter.afterEach( ( to, from ) => {\r\n  if ( to.name === 'signin-cb' ) return\r\n\r\n\r\n  let existingQueryObject = to.query.s ? JSON.parse( base64url.decode( to.query.s ) ) : {}\r\n  if ( existingQueryObject && existingQueryObject.server && existingQueryObject.server === Store.state.server )\r\n    return\r\n\r\n  if ( Store.state.server )\r\n    existingQueryObject.server = Store.state.server\r\n\r\n  if ( myRouter.$Countly ) {\r\n    myRouter.$Countly.q.push( [ 'track_pageview', to.name ] )\r\n  }\r\n\r\n  myRouter.replace( { params: to.params, query: { s: base64url( JSON.stringify( existingQueryObject ) ) } } )\r\n} )\r\n\r\nmyRouter.beforeEach( ( to, from, next ) => {\r\n  if ( to.meta.requiresAuth ) {\r\n    if ( to.meta.requiresAuth === true && Store.state.isAuth === false )\r\n      return next( { path: '/signin' } )\r\n  }\r\n  next( )\r\n} )\r\n\r\nexport default myRouter\r\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{attrs:{\"title\":_vm.hint,\"contenteditable\":!_vm.disabled},domProps:{\"innerHTML\":_vm._s(_vm.getContent())},on:{\"blur\":_vm.updateOnBlur,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateOnEnter($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span :title='hint' :contenteditable='!disabled' @blur='updateOnBlur' @keydown.enter='updateOnEnter' v-html='getContent()'></span>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'EditableSpan',\r\n  props: {\r\n    text: { type: String, default: 'loading...' },\r\n    disabled: { type: Boolean, default: false },\r\n    hint: { type: String, default: 'click and type to edit' },\r\n    dataKey: { type: String, default: '' }\r\n  },\r\n  computed: {},\r\n  data( ) {\r\n    return {\r\n      innerText: null\r\n    }\r\n  },\r\n  methods: {\r\n    getContent( ) {\r\n      if ( this.innerText )\r\n        return this.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" ) !== '' ? this.innerText : this.text\r\n      return this.text\r\n    },\r\n    updateOnBlur( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        return\r\n      }\r\n      this.innerText = newContent\r\n      this.$emit( 'update', { text: newContent, dataKey: this.dataKey } )\r\n    },\r\n    updateOnEnter( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        e.target.blur( )\r\n        return\r\n      }\r\n      e.target.blur( )\r\n      this.innerText = newContent\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n$SpeckleBlue: #448aff;\r\n\r\nspan {\r\n  border-bottom: 2px dashed rgba(55, 126, 247, 0.6);\r\n  transition: all .3s ease;\r\n}\r\n\r\nspan:hover {\r\n  cursor: text;\r\n  color: $SpeckleBlue;\r\n  border-bottom: 2px solid $SpeckleBlue;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditableSpan.vue?vue&type=template&id=8918005a&scoped=true&\"\nimport script from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nexport * from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8918005a\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Axios from 'axios'\r\nimport App from './App.vue'\r\nimport Router from './router'\r\nimport Store from './store/store'\r\nimport './registerServiceWorker'\r\n\r\nVue.config.productionTip = false\r\n\r\nimport Vuetify from 'vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\nimport colors from 'vuetify/es5/util/colors'\r\n\r\nVue.use( Vuetify, {\r\n  theme: {\r\n    primary: colors.blue.darken1, // #E53935\r\n    secondary: colors.blue.lighten4, // #FFCDD2\r\n    accent: colors.indigo.base // #3F51B5\r\n  }\r\n} )\r\n\r\nimport VueTimeago from 'vue-timeago'\r\nVue.use( VueTimeago, { locale: 'en' } )\r\n\r\nimport base64url from 'base64url'\r\n// Set up the server route\r\n// Step 1: Get it form local storage.\r\nlet server = localStorage.getItem( 'currentServer' )\r\nif ( server )\r\n  Store.state.server = server\r\n\r\n// Step 2: If a query url is present, and different, overwrite it.\r\ntry {\r\n  let queryString = window.location.href.split( '?' )[ 1 ]\r\n  let queryVal = queryString.split( '=' )[ 1 ]\r\n  let queryObject = JSON.parse( base64url.decode( queryVal ) )\r\n\r\n  if ( queryObject.server && Store.state.server != queryObject.server )\r\n    Store.state.server = queryObject.server\r\n\r\n  console.log( queryObject )\r\n} catch ( err ) {\r\n  console.log( 'Query borked' )\r\n  console.log( err )\r\n}\r\n\r\n// set default server\r\nAxios.defaults.baseURL = Store.state.server\r\n\r\n// Get the token, if any is present.\r\nlet token = localStorage.getItem( 'token' )\r\n\r\n// Start the init flow\r\nAxios.get( Store.state.server )\r\n  .then( response => {\r\n    Store.state.serverManifest = response.data\r\n    return Axios.get( `${Store.state.server}/accounts?omit=logins`, { headers: { Authorization: token } } )\r\n  } )\r\n  .then( response => {\r\n    // means we're logged out\r\n    if ( response === null ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // needs to log in\r\n    if ( response.status !== 200 ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // set defaults in axios, if we got this far things should be fine\r\n    Axios.defaults.headers.common[ 'Authorization' ] = token\r\n    // update the store\r\n    Store.state.isAuth = true\r\n    Store.state.user = response.data.resource\r\n    Store.state.token = token\r\n\r\n    initApp( )\r\n  } )\r\n  .catch( err => {\r\n    initApp( )\r\n  } )\r\n\r\n// set axios as default $http request lib\r\nVue.prototype.$http = Axios\r\n\r\n// event bus used for triggerring events cross-hirearchy\r\nwindow.bus = new Vue( )\r\n\r\n// get hex color from string global mixin\r\nimport CH from 'color-hash'\r\nlet ColorHasher = new CH( )\r\n\r\nVue.mixin( {\r\n  methods: {\r\n    getHexFromString: str => ColorHasher.hex( str ),\r\n    hexFromString: str => ColorHasher.hex( str ),\r\n    appendInfoToUrl( key, info ) {\r\n      let existingQueryObject = this.$route.query.s ? JSON.parse( base64url.decode( this.$route.query.s ) ) : {}\r\n      if ( info !== null )\r\n        existingQueryObject[ key ] = info\r\n      else\r\n        delete existingQueryObject[ key ]\r\n\r\n      this.$router.replace( { params: this.$route.params, query: { s: base64url( JSON.stringify( existingQueryObject ) ) } } )\r\n\r\n      // console.log( existingQueryObject )\r\n    },\r\n    getUrlQueryObject( ) {\r\n      if ( !this.$route.query.s )\r\n        return null\r\n      return this.$route.query.s ? JSON.parse( base64url.decode( this.$route.query.s ) ) : null\r\n    },\r\n  }\r\n} )\r\n\r\n\r\nimport EditableSpan from './components/EditableSpan.vue'\r\nVue.component( 'editable-span', EditableSpan )\r\n\r\nimport Countly from 'countly-sdk-web'\r\nimport VueCountly from 'vue-countly'\r\n\r\n\r\n////////////////////////////////////////////////////////////\r\n//                                                        //\r\n// Commment out the 4 lines below to disable telemetry!   //\r\n//                                                        //\r\n////////////////////////////////////////////////////////////\r\nVue.use( VueCountly, Countly, {\r\n  app_key: '04ac5c1e31e993f2624e964475dd949e9a3443f5',\r\n  url: 'https://telemetry.speckle.works',\r\n} );\r\n\r\n// The init logic (it's called after we do some auth flows)\r\nlet initApp = ( ) => {\r\n  new Vue( {\r\n    router: Router,\r\n    store: Store,\r\n    render: h => h( App ),\r\n    created( ) {\r\n\r\n      ////////////////////////////////////////////////////////////\r\n      //                                                        //\r\n      // Commment out the two lines below to disable telemetry! //\r\n      //                                                        //\r\n      ////////////////////////////////////////////////////////////\r\n      this.$Countly.q.push( [ 'track_sessions' ] )\r\n      Router.$Countly = this.$Countly\r\n    }\r\n  } ).$mount( '#app' )\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\""],"sourceRoot":""}