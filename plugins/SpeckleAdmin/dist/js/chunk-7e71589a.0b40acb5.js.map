{"version":3,"sources":["webpack:///./src/components/StreamCard.vue?c915","webpack:///./src/views/Streams.vue?ef52","webpack:///./src/components/StreamCard.vue?299f","webpack:///src/components/StreamCard.vue","webpack:///./src/components/StreamCard.vue?dad4","webpack:///./src/components/StreamCard.vue","webpack:///src/views/Streams.vue","webpack:///./src/views/Streams.vue?d036","webpack:///./src/views/Streams.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","selectedStreams","length","staticStyle","staticClass","nativeOn","$event","clearSelection","_v","selectAll","deleteStreams","togglePermissions","_s","defaultPermission","createProjectFromSelection","_e","streams","$store","state","user","name","searchHint","isSearching","on","updateSearch","dispatch","model","value","callback","$$v","searchfilter","expression","filteredStreams","scopedSlots","_u","key","fn","proxy","_l","tag","addSearchQuery","jnumber","pageNumber","Math","round","sliceSize","toFixed","stream","_id","selectThis","createStream","staticRenderFns","class","selected","$router","push","streamId","updatedAt","createdAt","private","allUsers","children","jobNumber","tags","domProps","compiledDescription","owner","directives","rawName","deleteStream","props","Object","watch","computed","date","toLocaleString","canEdit","isOwner","canWrite","indexOf","u","surname","includes","data","methods","$emit","updateTags","mounted","bus","$on","component","components","allTags","getters","allStreamTags","allJobNumbers","allJobNumbersStreams","filter","Date","filteredResources","paginatedStreams","slice","currentIndex","filters","forEach","priv","pub","tempFilter","setTimeout","e","checkSelection","created"],"mappings":"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","file":"js/chunk-7e71589a.0b40acb5.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=style&index=0&id=28b75c03&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=style&index=0&id=28b75c03&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"grid-list-xl\":\"\"}},[(_vm.selectedStreams.length > 0)?_c('v-toolbar',{staticStyle:{\"z-index\":\"100\"},attrs:{\"fixed\":\"\"}},[_c('v-toolbar-items',[_c('v-btn',{staticClass:\"md-raised md-dense md-primary\",attrs:{\"icon\":\"\",\"color\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.clearSelection($event)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-btn',{attrs:{\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectAll()}}},[_vm._v(\"select all\")])],1),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"flat\":\"\",\"color\":\"error\"},nativeOn:{\"click\":function($event){return _vm.deleteStreams($event)}}},[_vm._v(\"Archive\")]),_c('v-btn',{attrs:{\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.togglePermissions($event)}}},[_vm._v(\"Make \"+_vm._s(_vm.defaultPermission))]),_c('v-btn',{attrs:{\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.createProjectFromSelection($event)}}},[_vm._v(\"Create Project\")])],1)],1):_vm._e(),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"headline font-weight-light\",attrs:{\"xs12\":\"\",\"py-5\":\"\"}},[_vm._v(\"\\n      Streams are the channels your design data flows into.\\n    \")]),(_vm.streams.length === 0)?_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('p',{staticClass:\"title font-weight-light\"},[_vm._v(\"\\n        👋 Hello \"+_vm._s(_vm.$store.state.user.name)+\"! It looks like you haven't created any streams yet. Don't forget to check out the \"),_c('a',{attrs:{\"href\":\"https://speckle.systems/docs/essentials/start\",\"target\":\"_blank\"}},[_vm._v(\"guide\")]),_vm._v(\"!\\n      \")])]):_vm._e(),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"solo\":\"\",\"clearable\":\"\",\"xxxhint\":_vm.searchHint,\"label\":\"Search for a stream\",\"prepend-inner-icon\":\"search\",\"spellcheck\":\"false\",\"loading\":_vm.isSearching,\"append-icon\":\"refresh\"},on:{\"input\":_vm.updateSearch,\"click:append\":function($event){return _vm.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )}},model:{value:(_vm.searchfilter),callback:function ($$v) {_vm.searchfilter=$$v},expression:\"searchfilter\"}}),(_vm.searchfilter && _vm.searchfilter!==\"\")?_c('div',[_c('p',{staticClass:\"title font-weight-light my-3 mx-1\"},[_vm._v(\"Found \"+_vm._s(_vm.filteredStreams.length)+\" streams matching your search criteria.\")])]):_vm._e(),_c('v-expansion-panel',[_c('v-expansion-panel-content',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\"Search Options\")]},proxy:true}])},[_c('v-card',{staticClass:\"pa-3\"},[_c('v-expansion-panel',[_c('v-expansion-panel-content',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\"Tags\")]},proxy:true}])},[_c('v-card',{staticClass:\"pa-3\"},_vm._l((_vm.allTags),function(tag){return _c('v-chip',{key:tag,attrs:{\"small\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.addSearchQuery(\"tag\", tag)}}},[_vm._v(\"\\n                    \"+_vm._s(tag)+\"\\n                  \")])}),1)],1),_c('v-expansion-panel-content',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\"Job Numbers\")]},proxy:true}])},[_c('v-card',{staticClass:\"pa-3\"},_vm._l((_vm.allJobNumbers),function(jnumber){return _c('v-chip',{key:jnumber,on:{\"click\":function($event){return _vm.addSearchQuery(\"jn\", jnumber)}}},[_vm._v(_vm._s(jnumber))])}),1)],1)],1)],1)],1)],1)],1)],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber=0}}},[_c('v-icon',[_vm._v(\"first_page\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber-=1}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber+=1}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber=Math.round(_vm.filteredStreams.length/_vm.sliceSize)}}},[_c('v-icon',[_vm._v(\"last_page\")])],1),_c('span',{staticClass:\"caption\",attrs:{\"xxxstyle\":\"position: relative;top:8px;\"}},[_vm._v(_vm._s(_vm.pageNumber)+\" / \"+_vm._s((_vm.filteredStreams.length/_vm.sliceSize).toFixed(0)))])],1),_vm._l((_vm.paginatedStreams),function(stream){return _c('v-flex',{key:stream._id,attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('stream-card',{attrs:{\"stream\":stream},on:{\"selected\":_vm.selectThis,\"deleted\":_vm.clearSelection}})],1)}),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber=0}}},[_c('v-icon',[_vm._v(\"first_page\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber===0},nativeOn:{\"click\":function($event){_vm.pageNumber-=1}}},[_c('v-icon',[_vm._v(\"chevron_left\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber+=1}}},[_c('v-icon',[_vm._v(\"chevron_right\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"disabled\":_vm.pageNumber >= Math.round(_vm.filteredStreams.length/_vm.sliceSize)},nativeOn:{\"click\":function($event){_vm.pageNumber=Math.round(_vm.filteredStreams.length/_vm.sliceSize)}}},[_c('v-icon',[_vm._v(\"last_page\")])],1),_c('span',{staticClass:\"caption\",attrs:{\"xxxstyle\":\"position: relative;top:8px;\"}},[_vm._v(_vm._s(_vm.pageNumber)+\" / \"+_vm._s((_vm.filteredStreams.length/_vm.sliceSize).toFixed(0)))])],1)],2),_c('v-btn',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"fixed\":\"\",\"large\":\"\",\"bottom\":\"\",\"right\":\"\",\"fab\":\"\"},nativeOn:{\"click\":function($event){return _vm.createStream($event)}}},[_c('v-icon',[_vm._v(\"add\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{class:{'stream-card':true, 'elevation-10':_vm.selected, 'elevation-1': true}},[_c('v-card-title',[_c('v-btn',{attrs:{\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.$router.push((\"/view/\" + (_vm.stream.streamId)))}}},[_c('v-icon',[_vm._v(\"360\")])],1),_c('span',{staticClass:\"title font-weight-light\"},[_vm._v(_vm._s(_vm.stream.name ? _vm.stream.name : \"Stream Has No Name\"))]),_c('v-spacer'),_c('span'),_c('span',[_c('v-checkbox',{attrs:{\"color\":\"primary\"},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1),_c('v-divider',{staticClass:\"mx-0 my-0\"}),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"caption\",attrs:{\"xs12\":\"\",\"ma-2\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fingerprint\")]),_vm._v(\" \"),_c('strong',{staticStyle:{\"user-select\":\"all\"}},[_vm._v(_vm._s(_vm.stream.streamId))]),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"edit\")]),_vm._v(\" \"),_c('timeago',{attrs:{\"datetime\":_vm.stream.updatedAt}}),_vm._v(\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"access_time\")]),_vm._v(\"  \"+_vm._s(_vm.createdAt)+\" \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.stream.private ? \"lock\" : \"lock_open\"))]),_vm._v(\" link sharing \"+_vm._s(_vm.stream.private ? \"off\" : \"on\")+\"  \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"person_outline\")]),_vm._v(\" \"+_vm._s(_vm.allUsers.length)+\"  \\n      \"),_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"history\")]),_vm._v(\" \"+_vm._s(_vm.stream.children.length)+\"  \\n    \")],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"ma-2\":\"\"}},[(_vm.stream.jobNumber)?_c('v-chip',{attrs:{\"small\":\"\"}},[_c('b',[_vm._v(\"JN:\")]),_vm._v(\" \"+_vm._s(_vm.stream.jobNumber))]):_vm._e(),_vm._l((_vm.stream.tags),function(tag){return (_vm.stream.tags.length > 0)?_c('v-chip',{key:tag,attrs:{\"small\":\"\",\"outline\":\"\"}},[_vm._v(_vm._s(tag))]):_vm._e()})],2),_c('v-flex',{attrs:{\"xs12\":\"\",\"ma-2\":\"\"}},[_c('div',{staticClass:\"md-caption md-small-hide\",domProps:{\"innerHTML\":_vm._s(_vm.compiledDescription)}})])],1),_c('v-card-actions',[_c('span',{staticClass:\"caption font-weight-light\"},[_vm._v(\"Owned by \"+_vm._s(_vm.owner))]),_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOwner),expression:\"isOwner\"}],staticClass:\"transparent\",attrs:{\"depressed\":\"\"},nativeOn:{\"click\":function($event){return _vm.deleteStream($event)}}},[_vm._v(\"Archive\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"to\":\"/streams/\"+_vm.stream.streamId}},[_vm._v(\"Details\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card :class=\"{'stream-card':true, 'elevation-10':selected, 'elevation-1': true}\">\r\n    <v-card-title>\r\n      <v-btn icon @click.native='$router.push(`/view/${stream.streamId}`)'>\r\n        <v-icon>360</v-icon>\r\n      </v-btn>\r\n      <span class='title font-weight-light'>{{stream.name ? stream.name : \"Stream Has No Name\"}}</span>\r\n      <v-spacer></v-spacer>\r\n      <span></span>\r\n      <span>\r\n        <v-checkbox color='primary' v-model=\"selected\"></v-checkbox>\r\n      </span>\r\n    </v-card-title>\r\n    <v-divider class='mx-0 my-0'></v-divider>\r\n    <v-layout row wrap>\r\n      <v-flex xs12 class='caption' ma-2>\r\n        <v-icon small>fingerprint</v-icon>&nbsp<strong style=\"user-select:all\">{{stream.streamId}}</strong>&nbsp\r\n        <v-icon small>edit</v-icon>&nbsp<timeago :datetime='stream.updatedAt'></timeago>&nbsp\r\n        <v-icon small>access_time</v-icon>&nbsp {{createdAt}}&nbsp\r\n        <v-icon small>{{stream.private ? \"lock\" : \"lock_open\"}}</v-icon> link sharing {{stream.private ? \"off\" : \"on\" }} &nbsp\r\n        <v-icon small>person_outline</v-icon> {{ allUsers.length }} &nbsp\r\n        <v-icon small>history</v-icon> {{ stream.children.length }} &nbsp\r\n      </v-flex>\r\n      <v-flex xs12 ma-2>\r\n        <v-chip small v-if='stream.jobNumber'><b>JN:</b> {{stream.jobNumber}}</v-chip>\r\n        <v-chip small v-if='stream.tags.length > 0' outline v-for='tag in stream.tags' :key='tag'>{{tag}}</v-chip>\r\n      </v-flex>\r\n      <v-flex xs12 ma-2>\r\n        <div class=\"md-caption md-small-hide\" v-html='compiledDescription'> </div>\r\n      </v-flex>\r\n    </v-layout>\r\n    <v-card-actions>\r\n      <span class='caption font-weight-light'>Owned by {{owner}}</span>\r\n      <v-spacer></v-spacer>\r\n      <v-btn depressed class='transparent' @click.native='deleteStream' v-show='isOwner'>Archive</v-btn>\r\n      <v-btn color='primary' :to='\"/streams/\"+stream.streamId'>Details</v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport debounce from 'lodash.debounce'\r\nimport marked from 'marked'\r\n\r\nexport default {\r\n  name: 'StreamCard',\r\n  props: {\r\n    stream: Object\r\n  },\r\n  watch: {\r\n    selected( ) { this.$emit( \"selected\", this.stream ) }\r\n  },\r\n  computed: {\r\n    createdAt( ) {\r\n      let date = new Date( this.stream.createdAt )\r\n      return date.toLocaleString( 'en', { year: 'numeric', month: 'long', day: 'numeric' } )\r\n    },\r\n    compiledDescription( ) {\r\n      return marked( this.stream.description.substring( 0, 220 ) + ' ...', { sanitize: true } )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.stream.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.stream.owner === this.$store.state.user._id\r\n    },\r\n    allUsers( ) {\r\n      return union( this.stream.canRead, this.stream.canWrite )\r\n    },\r\n    owner( ) {\r\n      let u = this.$store.state.users.find( user => user._id === this.stream.owner )\r\n      if ( !u ) {\r\n        this.$store.dispatch( 'getUser', { _id: this.stream.owner } )\r\n      }\r\n      return u ? u.surname.includes( \"is you\" ) ? `you` : `${u.name} ${u.surname}` : 'Loading'\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      selected: false,\r\n    }\r\n  },\r\n  methods: {\r\n    deleteStream( ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, deleted: true } )\r\n      this.$emit( 'deleted' )\r\n    },\r\n    updateTags: debounce( function ( e ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, tags: this.stream.tags } )\r\n    }, 1000 )\r\n  },\r\n  mounted( ) {\r\n    bus.$on( 'select-stream', ( streamId ) => {\r\n      if ( this.stream.streamId === streamId ) this.selected = true\r\n    } )\r\n    bus.$on( 'unselect-all', ( ) => {\r\n      this.selected = false\r\n    } )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n/*.stream-chips:after {\r\n  display: none !important;\r\n}\r\n\r\n.stream-chips:before {\r\n  display: none !important;\r\n}\r\n\r\n.md-card-actions,\r\n.md-card-header {\r\n  background: ghostwhite;\r\n}\r\n\r\n.md-card-header {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.stream-chips {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.stream-chips input {\r\n  font-size: 10px;\r\n}*/\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamCard.vue?vue&type=template&id=28b75c03&scoped=true&\"\nimport script from \"./StreamCard.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamCard.vue?vue&type=style&index=0&id=28b75c03&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28b75c03\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <v-container grid-list-xl>\r\n    <!-- Toolbar for stream selection/bulk operations -->\r\n    <v-toolbar fixed v-if='selectedStreams.length > 0' style='z-index:100'>\r\n      <v-toolbar-items>\r\n        <v-btn icon color='primary' class='md-raised md-dense md-primary' @click.native='clearSelection'>\r\n          <v-icon>close</v-icon>\r\n        </v-btn>\r\n        <v-btn flat @click.native='selectAll()'>select all</v-btn>\r\n      </v-toolbar-items>\r\n      <v-spacer></v-spacer>\r\n      <v-toolbar-items>\r\n        <v-btn flat color='error' @click.native='deleteStreams'>Archive</v-btn>\r\n        <v-btn flat @click.native='togglePermissions'>Make {{defaultPermission}}</v-btn>\r\n        <v-btn flat @click.native='createProjectFromSelection'>Create Project</v-btn>\r\n      </v-toolbar-items>\r\n    </v-toolbar>\r\n    <!-- End toolbar -->\r\n    <v-layout row wrap>\r\n      <v-flex xs12 py-5 class='headline font-weight-light'>\r\n        Streams are the channels your design data flows into.\r\n      </v-flex>\r\n      <!-- Empty state handler -->\r\n      <v-flex xs12 v-if='streams.length === 0'>\r\n        <p class='title font-weight-light'>\r\n          👋 Hello {{$store.state.user.name}}! It looks like you haven't created any streams yet. Don't forget to check out the <a href='https://speckle.systems/docs/essentials/start' target='_blank'>guide</a>!\r\n        </p>\r\n      </v-flex>\r\n      <v-flex xs12>\r\n        <v-text-field solo clearable :xxxhint='searchHint' label=\"Search for a stream\" prepend-inner-icon=\"search\" @input=\"updateSearch\" spellcheck=\"false\" v-model='searchfilter' :loading='isSearching' append-icon=\"refresh\" @click:append=\"$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\"></v-text-field>\r\n        <!--       <p class='caption'>\r\n          How to search for things?\r\n        </p> -->\r\n        <div v-if='searchfilter && searchfilter!==\"\"'>\r\n          <p class='title font-weight-light my-3 mx-1'>Found {{filteredStreams.length}} streams matching your search criteria.</p>\r\n        </div>\r\n        <!--       </v-flex>\r\n      <v-flex xs12> -->\r\n        <v-expansion-panel>\r\n          <v-expansion-panel-content>\r\n            <template v-slot:header>Search Options</template>\r\n            <v-card class='pa-3'>\r\n              <v-expansion-panel>\r\n                <v-expansion-panel-content>\r\n                  <template v-slot:header>Tags</template>\r\n                  <v-card class='pa-3'>\r\n                    <v-chip v-for='tag in allTags' :key='tag' small dense @click='addSearchQuery(\"tag\", tag)'>\r\n                      {{tag}}\r\n                    </v-chip>\r\n                  </v-card>\r\n                </v-expansion-panel-content>\r\n                <!-- <v-expansion-panel> -->\r\n                <v-expansion-panel-content>\r\n                  <template v-slot:header>Job Numbers</template>\r\n                  <v-card class='pa-3'>\r\n                    <v-chip v-for='jnumber in allJobNumbers' :key='jnumber' @click='addSearchQuery(\"jn\", jnumber)'>{{jnumber}}</v-chip>\r\n                  </v-card>\r\n                </v-expansion-panel-content>\r\n              </v-expansion-panel>\r\n            </v-card>\r\n          </v-expansion-panel-content>\r\n        </v-expansion-panel>\r\n        <!-- {{allTags}} -->\r\n      </v-flex>\r\n    </v-layout>\r\n    <!-- All the stream cards will flow below -->\r\n    <v-layout row wrap>\r\n      <!-- Pagination top (TODO: extract to component) -->\r\n      <v-flex xs12>\r\n        <v-btn icon small @click.native='pageNumber=0' :disabled='pageNumber===0'>\r\n          <v-icon>first_page</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber-=1' :disabled='pageNumber===0'>\r\n          <v-icon>chevron_left</v-icon>\r\n        </v-btn>\r\n        <v-btn icon @click.native='pageNumber+=1' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>chevron_right</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber=Math.round(filteredStreams.length/sliceSize)' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>last_page</v-icon>\r\n        </v-btn>\r\n        <span class='caption' xxxstyle=\"position: relative;top:8px;\">{{pageNumber}} / {{(filteredStreams.length/sliceSize).toFixed(0)}}</span>\r\n      </v-flex>\r\n      <!-- The actual stream cards -->\r\n      <v-flex xs12 sm6 v-for='stream in paginatedStreams' :key='stream._id'>\r\n        <stream-card :stream='stream' v-on:selected='selectThis' v-on:deleted='clearSelection'></stream-card>\r\n      </v-flex>\r\n      <!-- Pagination bottom  -->\r\n      <v-flex xs12>\r\n        <v-btn icon small @click.native='pageNumber=0' :disabled='pageNumber===0'>\r\n          <v-icon>first_page</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber-=1' :disabled='pageNumber===0'>\r\n          <v-icon>chevron_left</v-icon>\r\n        </v-btn>\r\n        <v-btn icon @click.native='pageNumber+=1' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>chevron_right</v-icon>\r\n        </v-btn>\r\n        <v-btn icon small @click.native='pageNumber=Math.round(filteredStreams.length/sliceSize)' :disabled='pageNumber >= Math.round(filteredStreams.length/sliceSize)'>\r\n          <v-icon>last_page</v-icon>\r\n        </v-btn>\r\n        <span class='caption' xxxstyle=\"position: relative;top:8px;\">{{pageNumber}} / {{(filteredStreams.length/sliceSize).toFixed(0)}}</span>\r\n      </v-flex>\r\n    </v-layout>\r\n    <!-- Big fat fab button to create a new stream -->\r\n    <v-btn color=\"primary\" dark fixed large bottom right fab @click.native='createStream'>\r\n      <v-icon>add</v-icon>\r\n    </v-btn>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport StreamCard from '../components/StreamCard.vue'\r\n\r\nexport default {\r\n  name: 'StreamsView',\r\n  components: { StreamCard },\r\n  computed: {\r\n    allTags( ) {\r\n      return this.$store.getters.allStreamTags\r\n    },\r\n    allJobNumbers( ) {\r\n      return this.$store.getters.allJobNumbersStreams\r\n    },\r\n    streams( ) {\r\n      return this.$store.state.streams.filter( stream => stream.parent == null && stream.deleted === false ).sort( ( a, b ) => {\r\n        return new Date( b.updatedAt ) - new Date( a.updatedAt );\r\n      } )\r\n    },\r\n    filteredStreams( ) {\r\n      return this.$store.getters.filteredResources( this.filters )\r\n    },\r\n    paginatedStreams( ) {\r\n      // return this.filteredStreams.slice( this.startIndex, this.endIndex )\r\n      return this.filteredStreams.slice( this.currentIndex + this.pageNumber * this.sliceSize, this.sliceSize * ( this.pageNumber + 1 ) )\r\n    },\r\n  },\r\n  data( ) {\r\n    return {\r\n      currentIndex: 0,\r\n      sliceSize: 6,\r\n      pageNumber: 0,\r\n      selectedStreams: [ ],\r\n      searchfilter: '',\r\n      filters: [ ],\r\n      defaultPermission: 'private',\r\n      isSearching: false,\r\n      searchHint: `You can restrict your search to the stream's id by prepending id:{your stream id}, similarly for name, tags etc.`\r\n    }\r\n  },\r\n  watch: {\r\n    searchfilter( ) {\r\n      this.isSearching = true\r\n    },\r\n    selectedStreams( ) {\r\n      let priv = 0,\r\n        pub = 0\r\n      this.selectedStreams.forEach( s => {\r\n        if ( s.private ) priv++\r\n        else pub++\r\n      } )\r\n      this.defaultPermission = priv > pub ? 'public' : 'private'\r\n    }\r\n  },\r\n  methods: {\r\n    addSearchQuery( key, tag ) {\r\n      this.pageNumber = 0\r\n      let tempFilter = `${key}:${tag}`\r\n      this.searchfilter = tempFilter\r\n      setTimeout( ( ) => { this.isSearching = false }, 50 )\r\n      try {\r\n        let filters = tempFilter.split( ' ' ).map( t => {\r\n          if ( t.includes( ':' ) )\r\n            return { key: t.split( ':' )[ 0 ], value: t.split( ':' )[ 1 ] }\r\n          else if ( !t.includes( 'public' ) && !t.includes( 'private' ) && !t.includes( 'mine' ) && !t.includes( 'shared' ) ) // TODO: not elegant\r\n            return { key: 'name', value: t }\r\n          else\r\n            return { key: t, value: null }\r\n        } )\r\n        this.filters = filters\r\n      } catch {\r\n        this.filters = [ { key: 'name', value: e } ]\r\n      }\r\n      this.isSearching = false\r\n    },\r\n    createStream( ) {\r\n      this.$store.dispatch( 'createStream', { name: 'A New Speckle Stream', onlineEditable: true } )\r\n        .then( res => {\r\n          this.$router.push( `/streams/${res.streamId}` )\r\n        } )\r\n        .catch( err => {\r\n          console.error( err )\r\n        } )\r\n    },\r\n    createProjectFromSelection( ) {\r\n      this.$store.dispatch( 'createProject', { name: 'Speckle Project', streams: this.selectedStreams.map( s => s.streamId ) } )\r\n        .then( res => {\r\n          this.clearSelection( )\r\n          this.$router.push( `/projects/${res._id}` )\r\n        } )\r\n    },\r\n    togglePermissions( ) {\r\n      this.selectedStreams.forEach( stream => {\r\n        this.$store.dispatch( 'updateStream', { streamId: stream.streamId, private: this.defaultPermission === 'private' ? true : false } )\r\n      } )\r\n      this.defaultPermission = this.defaultPermission === 'private' ? 'public' : 'private'\r\n    },\r\n    deleteStreams( ) {\r\n      this.selectedStreams.forEach( stream => {\r\n        this.$store.dispatch( 'updateStream', { streamId: stream.streamId, deleted: true } )\r\n      } )\r\n      this.clearSelection( )\r\n    },\r\n    updateSearch: debounce( function ( e ) {\r\n      this.pageNumber = 0\r\n      this.isSearching = false\r\n      this.searchfilter = e\r\n      try {\r\n        let filters = this.searchfilter.split( ' ' ).map( t => {\r\n          if ( t.includes( ':' ) )\r\n            return { key: t.split( ':' )[ 0 ], value: t.split( ':' )[ 1 ] }\r\n          else if ( !t.includes( 'public' ) && !t.includes( 'private' ) && !t.includes( 'mine' ) && !t.includes( 'shared' ) ) // TODO: not elegant\r\n            return { key: 'name', value: t }\r\n          else\r\n            return { key: t, value: null }\r\n        } )\r\n        this.filters = filters\r\n      } catch {\r\n        this.filters = [ { key: 'name', value: e } ]\r\n      }\r\n    }, 1000 ),\r\n    selectAll( ) {\r\n      this.paginatedStreams.forEach( stream => {\r\n        let index = this.selectedStreams.findIndex( s => s.streamId === stream.streamId )\r\n        if ( index === -1 ) {\r\n          bus.$emit( 'select-stream', stream.streamId )\r\n        }\r\n      } )\r\n    },\r\n    selectThis( stream ) {\r\n      let index = this.selectedStreams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index === -1 )\r\n        this.selectedStreams.unshift( stream )\r\n      else\r\n        this.selectedStreams.splice( index, 1 )\r\n    },\r\n    clearSelection( ) {\r\n      this.defaultPermission = 'private'\r\n      bus.$emit( 'unselect-all' )\r\n    },\r\n    checkSelection( ) {\r\n      this.selectedStreams = this.selectedStreams.filter( s => !s.deleted )\r\n    }\r\n  },\r\n  created( ) {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Streams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Streams.vue?vue&type=template&id=d9ab08bc&scoped=true&\"\nimport script from \"./Streams.vue?vue&type=script&lang=js&\"\nexport * from \"./Streams.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9ab08bc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}