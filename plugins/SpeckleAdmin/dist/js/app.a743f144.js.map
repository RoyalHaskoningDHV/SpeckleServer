{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/NavDrawer.vue?8359","webpack:///./src/App.vue?e2e6","webpack:///./src/components/NavDrawer.vue?66e3","webpack:///src/components/NavDrawer.vue","webpack:///./src/components/NavDrawer.vue?75a6","webpack:///./src/components/NavDrawer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/lambda/_lambdaSettings.js","webpack:///./src/store.js","webpack:///./src/router.js","webpack:///./src/registerServiceWorker.js","webpack:///./src/components/EditableSpan.vue?2c4c","webpack:///src/components/EditableSpan.vue","webpack:///./src/components/EditableSpan.vue?872a","webpack:///./src/components/EditableSpan.vue","webpack:///./src/main.js","webpack:///./src/App.vue?926f","webpack:///./src/components/EditableSpan.vue?0761"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","app","jsonpScriptSrc","p","chunk-072a2a38","chunk-24783ee0","chunk-2d0af48a","chunk-fadb5740","chunk-289f28d9","chunk-3d22bfd2","chunk-48fa10d6","chunk-5909aef1","chunk-65d6cff6","chunk-684879ab","chunk-c45573d2","chunk-273d08e0","chunk-27c9975c","chunk-1fd5777f","chunk-4500f9ac","chunk-57193b42","chunk-64ccd1ca","chunk-6b142b2b","chunk-b9dbc228","chunk-d986601a","chunk-310ed8ea","chunk-39bd985f","chunk-5babe420","chunk-6e5b3d4a","chunk-3bdc657b","chunk-4d344dd0","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","clearTimeout","chunk","errorType","realSrc","error","undefined","setTimeout","all","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavDrawer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_NavDrawer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_127375b3_render","_vm","this","_h","$createElement","_c","_self","attrs","dark","staticClass","floating","model","callback","$$v","drawer","expression","scopedSlots","_u","fn","ref","hover","class","flat","prominent","xxxstyle","staticStyle","color","text-decoration","_v","on","click","$event","stopPropagation","_s","$route","path","includes","small","round","nativeOn","toggleControlsViewer","$store","state","viewerControls","_e","logout","icon","toggleDark","exclude","staticRenderFns","NavDrawervue_type_template_id_f80dafe8_render","two-line","to","user","role","serverManifest","serverName","server","three-line","NavDrawervue_type_template_id_f80dafe8_staticRenderFns","NavDrawervue_type_script_lang_js_","components_NavDrawervue_type_script_lang_js_","component","componentNormalizer","options","__file","NavDrawer","Appvue_type_script_lang_js_","components","_","methods","localStorage","setItem","dispatch","$router","commit","created","isAuth","getItem","updated","overlay","getElementsByClassName","onclick","showSidebar","src_Appvue_type_script_lang_js_","App_component","App","LambdaSettings","Lambdas","removeArraysRecursive","foo","bar","is_array_default","esm_typeof","getStructuralArrPropKeys","concat","Vue","use","Vuex","adminStore","streams","users","projects","mutations","ADD_STREAMS_ADMIN","forEach","stream","findIndex","x","streamId","description","tags","unshift","UPDATE_STREAM","props","found","find","keys_default","updatedAt","Date","toISOString","DELETE_STREAM","index","log","ADD_USERS_ADMIN","u","_id","UPDATE_USER","ADD_PROJECTS_ADMIN","project","deleted","UPDATE_PROJECT","DELETE_PROJECT","getters","actions","getStreamsAdmin","context","promise_default","a","Axios","res","resources","catch","getUsersAdmin","resource","updateUserAdmin","put","getProjectsAdmin","getTokenMSAL","_callee2","_ref","clientId","authority","loginRequest","userAgent","token","regeneratorRuntime","wrap","_context2","prev","next","Msal","auth","redirectUri","location","origin","cache","cacheLocation","storeAuthStateInCookie","getCachedToken","sent","abrupt","accessToken","acquireTokenSilent","t0","errorCode","msalClientId","loginPopup","acquireTokenPopup","stop","store","Store","deStreams","clients","comments","loadedStreamIds","objects","legend","selectedObjects","myClient","lambdas","processors","tokens","streamClients","filter","filteredStreams","filters","base","parent","query","toLowerCase","private","toString","myTags","split","map","streamTags","every","owner","objectPropertyKeys","keySet","set_default","stringKeySet","obj","properties","flatProps","flatten","add","keySets","allKeys","toConsumableArray","sort","b","stringKeys","hasStructuralProperties","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","structural","_unused","return","structuralKeys","keys","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_unused2","SET_DARK","TOGGLE_VIEWER_CONTROLS","ADD_STREAMS","UPDATE_STREAM_DATA","layers","ADD_CLIENTS","client","ADD_DE_STREAM","ADD_DE_STREAM_LAYER","newLayer","orderIndex","startIndex","objectCount","topology","guid","uuid","UPDATE_DE_STREAM_LAYER","_ref2","layer","surpassed","objectCountDifference","iterLayer","_found$objects","REMOVE_DE_STREAM_LAYER","_ref3","APPEND_DE_STREAM_LAYERS_FROM_CSV","_ref4","transposed","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_found$objects2","arr","noHeader","val","k","ADD_PROJECTS","warn","ADD_LAMBDAS","lambda","function","ADD_PROCESSORS","processor","UPDATE_PROCESSOR","DELETE_PROCESSOR","ADD_TOKEN","_ref5","id","set","DELETE_TOKEN","delete","ADD_USER","ADD_USERS","SET_SERVER","SET_SERVER_DETAILS","SET_TOKEN","SET_USER","SET_WEB_APP_CLIENT","FLUSH_ALL","ADD_LOADED_STREAMID","REMOVE_LOADED_STREAMID","indexOf","ADD_OBJECTS","_state$objects","UPDATE_OBJECTS_STREAMS","_ref6","objIds","streamToAdd","streamToRemove","myObject","REMOVE_OBJECTS","objectIds","SET_SELECTED_OBJECTS","_ref7","ADD_SELECTED_OBJECTS","_ref8","REMOVE_SELECTED_OBJECTS","_ref9","SET_LEGEND","getStream","refreshStream","getStreams","createStream","post","onlineEditable","updateStream","updateStreamObjectsAndLayers","_ref10","commitMessage","surname","lastChangedBy","originalStream","children","clone","getStreamClients","deleteStream","payload","getStreamObjects","ids","getObjects","createObjects","getProject","getProjects","createProject","updateProject","addUserToProject","_ref11","projectId","userId","permissions","canWrite","canRead","myStream","uniq","upgradeUserInProject","_ref12","downgradeUserInProject","_ref13","streamsToAddReadAndPullWrite","streamsToAddToRead","removeUserInProject","_ref14","streamsToPullBothFrom","streamsToPullWriteFrom","streamsToPullReadFrom","addStreamToProject","_ref15","removeStreamFromProject","_ref16","deleteProject","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","modifiedStreams","loadLambdas","myLambdas","method","url","baseURL","protocol","host","responseURL","pop","getProcessor","JSON","parse","getProcessors","processorIds","createProcessor","proc","blocks","params","anonymousComments","stringify_default","updateProcessor","deleteProcessor","removeItem","foundIndex","authenticateBlocks","_authenticateBlocks","asyncToGenerator","mark","_callee","propName","_context","msal","_x2","_x3","arguments","createClient","defaults","headers","common","documentName","documentType","online","getUser","updateLoggedInUser","login","email","password","admin","Router","myRouter","linkExactActiveClass","routes","meta","requiresAuth","beforeEach","from","btoa","register","process","ready","registered","cached","updatefound","offline","EditableSpanvue_type_template_id_8918005a_scoped_true_render","title","hint","contenteditable","disabled","domProps","innerHTML","getContent","blur","updateOnBlur","keydown","_k","keyCode","updateOnEnter","EditableSpanvue_type_template_id_8918005a_scoped_true_staticRenderFns","EditableSpanvue_type_script_lang_js_","text","String","default","Boolean","dataKey","computed","innerText","replace","newContent","$emit","components_EditableSpanvue_type_script_lang_js_","EditableSpan_component","EditableSpan","config","productionTip","Vuetify","theme","primary","colors","blue","darken1","secondary","lighten4","accent","indigo","VueTimeago","locale","response","Authorization","status","initApp","$http","bus","ColorHasher","CH","mixin","getHexFromString","str","hex","router","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditableSpan_vue_vue_type_style_index_0_id_8918005a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_EditableSpan_vue_vue_type_style_index_0_id_8918005a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.a743f144.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-072a2a38\":\"7bebaae7\",\"chunk-24783ee0\":\"86809dc9\",\"chunk-2d0af48a\":\"c514bf00\",\"chunk-fadb5740\":\"281fe61d\",\"chunk-289f28d9\":\"dc1ace36\",\"chunk-3d22bfd2\":\"b0094229\",\"chunk-48fa10d6\":\"3d79e14f\",\"chunk-5909aef1\":\"668bf232\",\"chunk-65d6cff6\":\"d969b430\",\"chunk-684879ab\":\"3f6ea256\",\"chunk-c45573d2\":\"3dc5327e\",\"chunk-273d08e0\":\"8ca0f632\",\"chunk-27c9975c\":\"4f379082\",\"chunk-1fd5777f\":\"493eb8e4\",\"chunk-4500f9ac\":\"e0b19fb5\",\"chunk-57193b42\":\"9a5f73ae\",\"chunk-64ccd1ca\":\"ff407aa0\",\"chunk-6b142b2b\":\"c9b6f680\",\"chunk-b9dbc228\":\"57cbf422\",\"chunk-d986601a\":\"072957d8\",\"chunk-310ed8ea\":\"871fdf87\",\"chunk-39bd985f\":\"a7316f69\",\"chunk-5babe420\":\"9d854356\",\"chunk-6e5b3d4a\":\"2d0c9a28\",\"chunk-3bdc657b\":\"becf5e9f\",\"chunk-4d344dd0\":\"38845bcf\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-072a2a38\":1,\"chunk-24783ee0\":1,\"chunk-289f28d9\":1,\"chunk-3d22bfd2\":1,\"chunk-48fa10d6\":1,\"chunk-5909aef1\":1,\"chunk-65d6cff6\":1,\"chunk-684879ab\":1,\"chunk-273d08e0\":1,\"chunk-27c9975c\":1,\"chunk-1fd5777f\":1,\"chunk-4500f9ac\":1,\"chunk-57193b42\":1,\"chunk-64ccd1ca\":1,\"chunk-6b142b2b\":1,\"chunk-b9dbc228\":1,\"chunk-d986601a\":1,\"chunk-310ed8ea\":1,\"chunk-39bd985f\":1,\"chunk-5babe420\":1,\"chunk-6e5b3d4a\":1,\"chunk-3bdc657b\":1,\"chunk-4d344dd0\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-072a2a38\":\"0e433876\",\"chunk-24783ee0\":\"8b5fefc0\",\"chunk-2d0af48a\":\"31d6cfe0\",\"chunk-fadb5740\":\"31d6cfe0\",\"chunk-289f28d9\":\"fcb6c043\",\"chunk-3d22bfd2\":\"0e433876\",\"chunk-48fa10d6\":\"0e433876\",\"chunk-5909aef1\":\"0e433876\",\"chunk-65d6cff6\":\"0e433876\",\"chunk-684879ab\":\"0e433876\",\"chunk-c45573d2\":\"31d6cfe0\",\"chunk-273d08e0\":\"93ff9eba\",\"chunk-27c9975c\":\"d330a809\",\"chunk-1fd5777f\":\"3b681302\",\"chunk-4500f9ac\":\"8b5fefc0\",\"chunk-57193b42\":\"d1fa4052\",\"chunk-64ccd1ca\":\"4edfb970\",\"chunk-6b142b2b\":\"8b5fefc0\",\"chunk-b9dbc228\":\"8b5fefc0\",\"chunk-d986601a\":\"b78db504\",\"chunk-310ed8ea\":\"ce96a816\",\"chunk-39bd985f\":\"99e3168f\",\"chunk-5babe420\":\"2de813b6\",\"chunk-6e5b3d4a\":\"408828bb\",\"chunk-3bdc657b\":\"369f6ca5\",\"chunk-4d344dd0\":\"0e433876\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":_vm.dark}},[_c('v-navigation-drawer',{staticClass:\"elevation-5\",attrs:{\"floating\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn _c('v-toolbar',{class:(\"elevation-\" + (hover ? 20 : 0) + \" \" + (_vm.dark ? \"royal-bg\" : \"light-bg\")),attrs:{\"flat\":\"\",\"prominent\":\"\",\"dark\":\"\",\"xxxstyle\":\"position: absolute; bottom:0\"}},[_c('div',{staticClass:\"text-uppercase caption ml-0\"},[_c('a',{staticStyle:{\"color\":\"white\",\"text-decoration\":\"none\"},attrs:{\"href\":\"https://speckle.works\",\"target\":\"_blank\"}},[_c('b',[_vm._v(\"Speckle\")]),_vm._v(\",\\n            \"),_c('span',{staticClass:\"font-weight-light caption\"},[_vm._v(\"the open source data platform for AEC.\")])])])])}}])}),_c('nav-drawer')],1),_c('v-toolbar',{attrs:{\"app\":\"\",\"flat\":\"\"}},[_c('v-toolbar-side-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.drawer = !_vm.drawer}}}),_c('v-toolbar-title',{staticClass:\"text-uppercase font-weight-light\"},[_vm._v(_vm._s(_vm.$route.name))]),(_vm.$route.path.includes(\"view\"))?_c('div',{staticClass:\"mt-1\"},[_c('v-btn',{attrs:{\"small\":\"\",\"round\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleControlsViewer($event)}}},[_vm._v(_vm._s(_vm.$store.state.viewerControls ? \"close\" :\"show\")+\" controls\")])],1):_vm._e(),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"flat\":\"\"},nativeOn:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\"\\n      Logout\\n    \")]),_c('v-btn',{attrs:{\"flat\":\"\",\"small\":\"\",\"icon\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleDark()}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"wb_sunny\")])],1)],1),_c('v-content',[_c('keep-alive',{attrs:{\"exclude\":\"StreamDetailView\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$store.state.isAuth)?_c('v-list',{staticClass:\"pa-0\",attrs:{\"two-line\":\"\"}},[_c('v-list-tile',{attrs:{\"to\":\"/\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"home\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Home\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Everything at a glance.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/streams\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"import_export\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Streams\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Create and manage your streams.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/projects\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"business\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Projects\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Group your data and share it with others.\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/trash\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"delete_outline\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Archive\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"The good old recycle bin.\")])],1)],1),(_vm.$store.state.user.role===\"admin\")?_c('v-list-tile',{attrs:{\"to\":\"/admin\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"settings\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Admin\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Server administration\")])],1)],1):_vm._e(),_c('v-divider',{staticClass:\"ma-3\"}),_c('v-list-tile',{attrs:{\"to\":\"/view\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"360\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Viewer\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"View Things! In Dimensions! With 3D!\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/processors\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"code\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Processor\")]),_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"Stream processing\")])],1)],1),_c('v-divider',{staticClass:\"ma-3\"})],1):_vm._e(),(_vm.$store.state.isAuth)?_c('v-list',[_c('v-list-tile',{attrs:{\"to\":\"/profile\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"face\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Profile\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/plugins\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"category\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Plugins\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/feedback\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"feedback\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Feedback\")])],1)],1),_c('v-list-tile',[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"developer_board\")])],1),_c('v-list-tile-content',[_c('v-list-tile-sub-title',{staticClass:\"font-weight-light caption\"},[_vm._v(\"You're connected at \"+_vm._s(_vm.$store.state.serverManifest.serverName)),_c('br'),_vm._v(_vm._s(_vm.$store.state.server))])],1)],1)],1):_c('v-list',{attrs:{\"three-line\":\"\"}},[_c('v-list-tile',{attrs:{\"to\":\"/login\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"face\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Login\")]),_c('v-list-tile-sub-title',[_vm._v(\"If you already have an account, login here!\")])],1)],1),_c('v-list-tile',{attrs:{\"to\":\"/register\"}},[_c('v-list-tile-action',[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"Register\")]),_c('v-list-tile-sub-title',[_vm._v(\"If you don't have an account, create one here!\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-list v-if='$store.state.isAuth' two-line class='pa-0'>\r\n      <v-list-tile to='/'>\r\n        <v-list-tile-action>\r\n          <v-icon>home</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Home</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Everything at a glance.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/streams'>\r\n        <v-list-tile-action>\r\n          <v-icon>import_export</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Streams</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Create and manage your streams.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/projects'>\r\n        <v-list-tile-action>\r\n          <v-icon>business</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Projects</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Group your data and share it with others.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/trash'>\r\n        <v-list-tile-action>\r\n          <v-icon>delete_outline</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Archive</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>The good old recycle bin.</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile v-if='$store.state.user.role===\"admin\"' to='/admin'>\r\n        <v-list-tile-action>\r\n          <v-icon>settings</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Admin</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Server administration</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n      <v-list-tile to='/view'>\r\n        <v-list-tile-action>\r\n          <v-icon>360</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Viewer</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>View Things! In Dimensions! With 3D!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/processors'>\r\n        <v-list-tile-action>\r\n          <v-icon>code</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Processor</v-list-tile-title>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>Stream processing</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-divider class='ma-3'></v-divider>\r\n    </v-list>\r\n    <v-list v-if='$store.state.isAuth'>\r\n      <v-list-tile to='/profile'>\r\n        <v-list-tile-action>\r\n          <v-icon>face</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Profile</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/plugins'>\r\n        <v-list-tile-action>\r\n          <v-icon>category</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Plugins</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/feedback'>\r\n        <v-list-tile-action>\r\n          <v-icon>feedback</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Feedback</v-list-tile-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile>\r\n        <v-list-tile-action>\r\n          <v-icon>developer_board</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-sub-title class='font-weight-light caption'>You're connected at {{$store.state.serverManifest.serverName}}<br>{{$store.state.server}}</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n    <v-list v-else three-line>\r\n      <v-list-tile to='/login'>\r\n        <v-list-tile-action>\r\n          <v-icon>face</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Login</v-list-tile-title>\r\n          <v-list-tile-sub-title>If you already have an account, login here!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n      <v-list-tile to='/register'>\r\n        <v-list-tile-action>\r\n          <v-icon>add</v-icon>\r\n        </v-list-tile-action>\r\n        <v-list-tile-content>\r\n          <v-list-tile-title>Register</v-list-tile-title>\r\n          <v-list-tile-sub-title>If you don't have an account, create one here!</v-list-tile-sub-title>\r\n        </v-list-tile-content>\r\n      </v-list-tile>\r\n    </v-list>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'SiteNavigation'\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavDrawer.vue?vue&type=template&id=f80dafe8&\"\nimport script from \"./NavDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./NavDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavDrawer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"NavDrawer.vue\"\nexport default component.exports","<template>\r\n  <v-app :dark='dark'>\r\n    <v-navigation-drawer floating app class='elevation-5' v-model='drawer'>\r\n      <v-hover>\r\n        <v-toolbar slot-scope=\"{ hover }\" flat prominent :class='`elevation-${hover ? 20 : 0} ${dark ? \"royal-bg\" : \"light-bg\" }`' dark xxxstyle='position: absolute; bottom:0'>\r\n          <div class='text-uppercase caption ml-0'>\r\n            <a href='https://speckle.works' target=\"_blank\" style=\"color:white; text-decoration: none;\"><b>Speckle</b>,\r\n              <span class='font-weight-light caption'>the open source data platform for AEC.</span></a>\r\n          </div>\r\n        </v-toolbar>\r\n      </v-hover>\r\n      <nav-drawer></nav-drawer>\r\n    </v-navigation-drawer>\r\n    <v-toolbar app flat class=''>\r\n      <v-toolbar-side-icon @click.stop=\"drawer = !drawer\"></v-toolbar-side-icon>\r\n      <v-toolbar-title class='text-uppercase font-weight-light'>{{$route.name}}</v-toolbar-title>\r\n      <div v-if='$route.path.includes(\"view\")' class='mt-1'>\r\n        <v-btn small round flat @click.native='toggleControlsViewer'>{{$store.state.viewerControls ? \"close\" :\"show\"}} controls</v-btn>\r\n      </div>\r\n      <v-spacer></v-spacer>\r\n      <v-btn small flat @click.native='logout()'>\r\n        Logout\r\n      </v-btn>\r\n      <v-btn flat small icon @click.native='toggleDark()'>\r\n        <v-icon small>wb_sunny</v-icon>\r\n      </v-btn>\r\n    </v-toolbar>\r\n    <v-content>\r\n      <!-- <v-container fluid> -->\r\n      <keep-alive exclude='StreamDetailView'>\r\n        <router-view></router-view>\r\n      </keep-alive>\r\n      <!-- </v-container> -->\r\n    </v-content>\r\n  </v-app>\r\n</template>\r\n<script>\r\nimport NavDrawer from './components/NavDrawer.vue'\r\n\r\nexport default {\r\n  name: 'MainApp',\r\n  components: {\r\n    NavDrawer\r\n  },\r\n  data: _ => ( {\r\n    drawer: true,\r\n    dark: false,\r\n    viewerControls: true\r\n  } ),\r\n  methods: {\r\n    toggleDark( ) {\r\n      this.dark = !this.dark\r\n      localStorage.setItem( 'dark', this.dark )\r\n    },\r\n    logout( ) {\r\n      this.$store.dispatch( 'logout' )\r\n      this.$router.push( '/login' )\r\n    },\r\n    toggleControlsViewer( ) {\r\n      this.$store.commit( 'TOGGLE_VIEWER_CONTROLS' )\r\n    }\r\n  },\r\n  created( ) {\r\n    if ( this.$store.state.isAuth ) {\r\n      this.$store.dispatch( 'getStreams', 'omit=objects,layers&isComputedResult=false&sort=updatedAt' )\r\n      this.$store.dispatch( 'getProjects' )\r\n      this.$store.dispatch( 'getProcessors' )\r\n      this.$store.dispatch( 'createClient' )\r\n    }\r\n    if ( localStorage.getItem( 'dark' ) === 'true' ) {\r\n      this.dark = true\r\n      this.$store.commit( 'SET_DARK', true )\r\n    }\r\n\r\n    this.$store.dispatch( 'loadLambdas' )\r\n  },\r\n  updated( ) {\r\n    let overlay = document.getElementsByClassName( \"md-overlay\" )[ 0 ]\r\n    if ( !overlay ) return\r\n    overlay.onclick = ( function ( ) {\r\n      this.showSidebar = false\r\n    } ).bind( this )\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n<style lang='scss'>\r\n.super-bg {\r\n  background: #448aff;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #448aff, #396afc);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #448aff, #396afc);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.other-bg {\r\n  background: #0052D4;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #6FB1FC, #4364F7, #0052D4);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.royal-bg {\r\n  background: #536976;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #292E49, #536976);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #292E49, #536976);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.light-bg {\r\n  background: #56CCF2;\r\n  /* fallback for old browsers */\r\n  background: -webkit-linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* Chrome 10-25, Safari 5.1-6 */\r\n  background: linear-gradient(to right, #2F80ED, #56CCF2);\r\n  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity .5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.no-scroll {\r\n  overflow: hidden !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=127375b3&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","export function LambdaSettings() {\r\n  this.Lambdas = [ \"receiver\", \"filter\", \"sender\", \"restAPI\", \"downloadobjects\", \"uploadobjects\", \"arupCompute\", \"proximity\"]\r\n}","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport Axios from 'axios'\r\nimport * as Msal from 'msal'\r\n\r\nimport uniq from 'lodash.uniq'\r\nimport uuid from 'uuid/v4'\r\nimport flatten from 'flat'\r\n\r\nimport { LambdaSettings } from './lambda/_lambdaSettings.js'\r\n\r\nVue.use( Vuex )\r\n\r\nfunction removeArraysRecursive( foo ) {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      //bar[ key + ' (array)' ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = removeArraysRecursive( foo[ key ] )\r\n    } else {\r\n      bar[ key ] = foo[ key ]\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\nfunction getStructuralArrPropKeys( foo ) {\r\n  let bar = {}\r\n\r\n  for ( let key in foo ) {\r\n    if ( !foo.hasOwnProperty( key ) ) continue\r\n    else if ( Array.isArray( foo[ key ] ) ) {\r\n      bar[ key ] = `Array with ${ foo[key].length } elements`\r\n    } else if ( typeof foo[ key ] === 'object' && foo[ key ] !== null ) {\r\n      bar[ key ] = getStructuralArrPropKeys( foo[ key ] )\r\n    }\r\n  }\r\n  return bar\r\n}\r\n\r\n\r\n// the admin module is a seperate store that includes all the users / streams / projects on the system\r\n// its ADD mutations are unique, and are called by get*Admin actions contained in this module\r\n// but its UPDATE and DELETE mutations are the same as those in the rootStore, so rootStore actions update \r\n// or delete state for projects, streams, and the current user across both stores\r\nconst adminStore = {\r\n  state: {\r\n    streams: [],\r\n    users: [],\r\n    projects : []\r\n  },\r\n  mutations: {\r\n    //streams\r\n    ADD_STREAMS_ADMIN( state, streams ) {\r\n      streams.forEach( stream => {\r\n        if ( state.streams.findIndex( x => x.streamId === stream.streamId ) === -1 ) {\r\n          // defensive code (vue 3.0 we're off to typescript baby, can't wait)\r\n          if ( !stream.description ) stream.description = '...'\r\n          if ( !stream.tags ) stream.tags = [ ]\r\n          state.streams.unshift( stream )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_STREAM( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( !found ) return console.error( 'User not found; aborting update.' )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_STREAM( state, stream ) {\r\n      let index = state.streams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index > -1 ) {\r\n        state.streams.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove stream ${stream.streamId} from store.` )\r\n    },\r\n    //users\r\n    ADD_USERS_ADMIN( state, users ) {\r\n      users.forEach( user => {\r\n        let found = state.users.find( u => u._id === user._id )\r\n        if ( !found )\r\n          state.users.unshift( user )\r\n        else found = user // update the user\r\n      } )\r\n    },\r\n    UPDATE_USER( state, user ) {\r\n      let found = null\r\n      found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        return console.error( 'User not found; aborting update.' )\r\n      Object.keys( user ).forEach( key => {\r\n        found[ key ] = user[ key ]\r\n      } )\r\n    },\r\n    //projects\r\n    ADD_PROJECTS_ADMIN( state, projects ) {\r\n      projects.forEach( project => {\r\n        if ( state.projects.findIndex( p => p._id === project._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !project.tags ) project.tags = [ ]\r\n          if ( !project.deleted ) project.deleted = false\r\n          state.projects.unshift( project )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROJECT( state, props ) {\r\n      let found = state.projects.find( p => p._id === props._id )\r\n      if (null == found) return \r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_PROJECT( state, props ) {\r\n      let index = state.projects.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.projects.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove project ${props._id} from store.` )\r\n    },\r\n  },\r\n  getters: {\r\n  },\r\n  actions: {\r\n    //streams\r\n    getStreamsAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'streams/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS_ADMIN', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    \r\n    //users\r\n    getUsersAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'accounts/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_USERS_ADMIN', res.data.resource )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateUserAdmin (context, user) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.put(\"accounts/\" + user._id, user)\r\n        .then(res => {\r\n            return resolve(context.commit( 'UPDATE_USER', user))\r\n        })\r\n        .catch (err => {\r\n          return reject (err)\r\n        })\r\n      })\r\n\r\n    },\r\n    //projects\r\n    getProjectsAdmin( context ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( 'projects/admin' )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS_ADMIN', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n  }\r\n}\r\n\r\nasync function getTokenMSAL ( { clientId, authority, loginRequest } ) {\r\n  // TODO: THIS CANNOT BE CALLED MULTIPLE TIMES!!!\r\n  // DEPENDS ON LOCAL STORAGE TO PROPERLY OBTAIN CLIENTID\r\n  var userAgent = new Msal.UserAgentApplication({\r\n    auth: {\r\n      clientId: clientId,\r\n      authority: authority,\r\n      redirectUri: window.location.origin + \"/msal.html\"\r\n    },\r\n    cache: {\r\n      cacheLocation: \"localStorage\",\r\n      storeAuthStateInCookie: true\r\n    },\r\n  })\r\n\r\n  var token = await userAgent.getCachedToken(clientId)\r\n\r\n  if (token)\r\n    return token.accessToken\r\n\r\n  try\r\n  {\r\n    token = await userAgent.acquireTokenSilent(loginRequest)\r\n  }\r\n  catch (e)\r\n  {\r\n    console.log('MSAL Error: ' + e.errorCode)\r\n    if (e.errorCode === \"user_login_error\")\r\n    {\r\n      window.localStorage.msalClientId = clientId\r\n      await userAgent.loginPopup(loginRequest)\r\n      delete window.localStorage.msalClientId\r\n      return await getTokenMSAL( {clientId: clientId, authority: authority, loginRequest: loginRequest})\r\n    }\r\n    else if (e.errorCode === \"token_renewal_error\")\r\n    {\r\n      window.localStorage.msalClientId = clientId\r\n      token = await userAgent.acquireTokenPopup(loginRequest)\r\n      delete window.localStorage.msalClientId\r\n    }\r\n  }\r\n  \r\n  return token.accessToken\r\n}\r\n\r\nexport default new Vuex.Store( {\r\n  state: {\r\n    // The canonical and correct server url, i.e. `https://speckle.server.com/api`\r\n    server: null,\r\n    // The server description\r\n    serverManifest: null,\r\n    token: null,\r\n    user: {},\r\n    isAuth: false,\r\n    // where all the streams and their properties are stored.\r\n    streams: [ ],\r\n    // data editable streams; we store objects and layers in here. rest of metadata\r\n    // is in streams proper array (see above).\r\n    deStreams: [ ],\r\n    // global store for stream clients.\r\n    clients: [ ],\r\n    // global store for projects\r\n    projects: [ ],\r\n    comments: [ ],\r\n    // global store for users. it's dynamically assembled as the end-user moves through\r\n    // the admin ui, and new user profiles need to be requested.\r\n    users: [ ],\r\n    // viewer/processor related\r\n    loadedStreamIds: [ ],\r\n    objects: [ ],\r\n    legend: null,\r\n    selectedObjects: [ ],\r\n    // client (used for ws requests, etc.)\r\n    myClient: null,\r\n    // app dark mode?\r\n    dark: false,\r\n    // toggles viewer controls\r\n    viewerControls: true,\r\n\r\n    // processor related\r\n    // these are the function names for each block from /src/lambda\r\n    // if you want to add your own lambda, add the function/file name to the list to expose it\r\n    lambdas: [ ],\r\n    processors: [ ],\r\n    tokens: { },\r\n  },\r\n  getters: {\r\n    streamClients: ( state ) => ( streamId ) => {\r\n      return state.clients.filter( c => c.streamId === streamId )\r\n    },\r\n    filteredStreams: ( state ) => ( filters ) => {\r\n      let base = state.streams.filter( stream => stream.parent == null && stream.deleted === false )\r\n      if ( !filters || filters.length === 0 ) return base\r\n      filters.forEach( query => {\r\n        query.key = query.key.toLowerCase( )\r\n        if ( query.value === null ) base = base\r\n        else {\r\n          base = base.filter( stream => stream.name !== '' )\r\n          switch ( query.key ) {\r\n            case 'private':\r\n              if ( query.value )\r\n                base = base.filter( stream => stream.private.toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === true )\r\n              break\r\n            case 'public':\r\n              if ( query.value )\r\n                base = base.filter( stream => ( !stream.private ).toString( ) === query.value )\r\n              else\r\n                base = base.filter( stream => stream.private === false )\r\n              break\r\n            case 'tag':\r\n            case 'tags':\r\n              let myTags = query.value.split( ',' ).map( t => t.toLowerCase( ) )\r\n              base = base.filter( stream => {\r\n                let streamTags = stream.tags.map( t => t.toLowerCase( ) )\r\n                return myTags.every( t => streamTags.includes( t ) )\r\n              } )\r\n              break\r\n            case 'mine':\r\n              base = base.filter( stream => stream.owner === state.user._id )\r\n              break;\r\n            case 'shared':\r\n              base = base.filter( stream => stream.owner !== state.user._id )\r\n              break;\r\n            case 'name':\r\n              base = base.filter( stream => stream.name ? stream.name.toLowerCase( ).includes( query.value.toLowerCase( ) ) : true )\r\n              break\r\n            case 'streamid':\r\n            case 'id':\r\n              base = base.filter( stream => stream.streamId.toLowerCase( ).includes( query.value.toLowerCase( ) ) )\r\n              break\r\n          }\r\n        }\r\n      } )\r\n      return base\r\n    },\r\n    objectPropertyKeys: ( state ) => {\r\n      let keySet = new Set( )\r\n      let stringKeySet = new Set( )\r\n      state.objects.forEach( obj => {\r\n        if ( !obj.properties ) return\r\n        let flatProps = flatten( removeArraysRecursive( obj.properties ) )\r\n        for ( let key in flatProps ) {\r\n          if ( key === 'hash' || key === 'id' || key.toLowerCase( ).includes( 'hash' ) || key.toLowerCase( ).includes( '_carbon' ) ) continue\r\n          if ( key.includes( '__' ) ) continue\r\n          keySet.add( key )\r\n          if ( typeof flatProps[ key ] === 'string' )\r\n            stringKeySet.add( key )\r\n        }\r\n      } )\r\n      let keySets = {\r\n        allKeys: [ ...keySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n        stringKeys: [ ...stringKeySet ].sort( ( a, b ) => { return a.split( '.' ).length - b.split( '.' ).length } ).sort( ( a, b ) => { return a.length - b.length } ),\r\n      }\r\n      return keySets\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    hasStructuralProperties: ( state ) => {\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          if ( obj.properties.structural.result !== null )\r\n            return true\r\n        } catch {}\r\n      }\r\n      return false\r\n    },\r\n    // NOTE: this assumes results from GSA\r\n    structuralKeys: ( state ) => {\r\n      let keys = new Set( )\r\n      for ( let obj of state.objects ) {\r\n        try {\r\n          let props = flatten( getStructuralArrPropKeys( obj.properties.structural.result ) )\r\n          for ( let key in props )\r\n            keys.add( key )\r\n        } catch {}\r\n      }\r\n      return [ ...keys ]\r\n    }\r\n  },\r\n  mutations: {\r\n    SET_DARK( state, dark ) {\r\n      state.dark = dark\r\n    },\r\n    TOGGLE_VIEWER_CONTROLS( state ) {\r\n      state.viewerControls = !state.viewerControls\r\n    },\r\n    // Streams\r\n    ADD_STREAMS( state, streams ) {\r\n      streams.forEach( stream => {\r\n        if ( state.streams.findIndex( x => x.streamId === stream.streamId ) === -1 ) {\r\n          // defensive code (vue 3.0 we're off to typescript baby, can't wait)\r\n          if ( !stream.description ) stream.description = '...'\r\n          if ( !stream.tags ) stream.tags = [ ]\r\n          state.streams.unshift( stream )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_STREAM( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( !found ) return console.error( 'stream not found; aborting update.' )\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    UPDATE_STREAM_DATA( state, props ) {\r\n      let found = state.streams.find( s => s.streamId === props.streamId )\r\n      if ( props.layers )\r\n        found.layers = props.layers\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n      // console.log('TODO')\r\n    },\r\n    DELETE_STREAM( state, stream ) {\r\n      let index = state.streams.findIndex( s => s.streamId === stream.streamId )\r\n      if ( index > -1 ) {\r\n        state.streams.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove stream ${stream.streamId} from store.` )\r\n    },\r\n\r\n    // Clients\r\n    ADD_CLIENTS( state, clients ) {\r\n      clients.forEach( client => {\r\n        if ( state.clients.findIndex( x => x._id === client._id ) === -1 ) {\r\n          state.clients.push( client )\r\n        }\r\n      } )\r\n    },\r\n\r\n    ADD_DE_STREAM( state, stream ) {\r\n      let found = state.deStreams.find( s => s.streamId === stream )\r\n      if ( !found )\r\n        state.deStreams.push( stream )\r\n      else {\r\n        found.layers = stream.layers\r\n        found.objects = stream.objects\r\n      }\r\n    },\r\n    ADD_DE_STREAM_LAYER( state, stream ) {\r\n      console.log( stream )\r\n      let found = state.deStreams.find( s => s.streamId === stream.streamId )\r\n      let newLayer = {\r\n        name: `Param group ${found.layers.length + 1}`,\r\n        orderIndex: found.layers.length,\r\n        startIndex: found.objects.length,\r\n        objectCount: 0,\r\n        topology: \"0-0\",\r\n        guid: uuid( ),\r\n      }\r\n      found.layers.push( newLayer )\r\n    },\r\n    UPDATE_DE_STREAM_LAYER( state, { streamId, layer, objects } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let surpassed = false,\r\n        objectCountDifference = 0\r\n\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex += objectCountDifference\r\n        } else if ( iterLayer.guid === layer.guid ) {\r\n          iterLayer.name = layer.name\r\n          iterLayer.topology = `0-${objects.length}`\r\n          objectCountDifference = objects.length - iterLayer.objectCount\r\n          found.objects.splice( iterLayer.startIndex, iterLayer.objectCount, ...objects )\r\n          iterLayer.objectCount = objects.length\r\n          surpassed = true\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_DE_STREAM_LAYER( state, { streamId, layer } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      // dump objects\r\n      found.objects.splice( layer.startIndex, layer.objectCount )\r\n      // adjust start indexes\r\n      let surpassed = false\r\n      found.layers.forEach( iterLayer => {\r\n        if ( surpassed ) {\r\n          iterLayer.startIndex -= layer.objectCount\r\n          iterLayer.orderIndex -= 1\r\n        } else if ( iterLayer.guid === layer.guid ) surpassed = true\r\n      } )\r\n      // dump layer\r\n      found.layers = found.layers.filter( l => l.guid !== layer.guid )\r\n    },\r\n    APPEND_DE_STREAM_LAYERS_FROM_CSV( state, { streamId, transposed } ) {\r\n      let found = state.deStreams.find( s => s.streamId === streamId )\r\n      let index = 0\r\n      for ( let arr of transposed ) {\r\n        let newLayer = {\r\n          name: arr[ 0 ] !== '' ? arr[ 0 ] : \"Unnamed\",\r\n          orderIndex: -1, // to be set properly afterwards\r\n          startIndex: index === 0 ? found.objects.length : found.objects.length,\r\n          objectCount: arr.length - 1,\r\n          topology: `0-${arr.length-1}`,\r\n          guid: uuid( ),\r\n        }\r\n        found.layers.push( newLayer )\r\n        let noHeader = arr.slice( 1, arr.length )\r\n        console.log( noHeader )\r\n        found.objects.push( ...noHeader.map( val => {\r\n          if ( !val ) return { type: \"Null\", value: \"\" }\r\n          if ( typeof val === 'boolean' )\r\n            return { type: \"Boolean\", value: val }\r\n          if ( typeof val === 'number' )\r\n            return { type: \"Number\", value: val } // TODO: Hash it please\r\n          if ( typeof val === 'string' )\r\n            return { type: \"String\", value: val } // TODO: Hash it please\r\n        } ) )\r\n        index++\r\n      }\r\n      found.layers.forEach( ( layer, k ) => {\r\n        console.log( k )\r\n        layer.orderIndex = k\r\n      } )\r\n    },\r\n    // Projects\r\n    ADD_PROJECTS( state, projects ) {\r\n      projects.forEach( project => {\r\n        if ( state.projects.findIndex( p => p._id === project._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !project.tags ) project.tags = [ ]\r\n          if ( !project.deleted ) project.deleted = false\r\n          state.projects.unshift( project )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROJECT( state, props ) {\r\n      let found = state.projects.find( p => p._id === props._id )\r\n      if (found == null) return console.warn('The admin user is not on this project')\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      found.updatedAt = ( new Date( ) ).toISOString( )\r\n    },\r\n    DELETE_PROJECT( state, props ) {\r\n      let index = state.projects.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.projects.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove project ${props._id} from store.` )\r\n    },\r\n\r\n    // Processors\r\n    ADD_LAMBDAS( state, lambdas ) {\r\n      lambdas.forEach( lambda => {\r\n        if ( state.lambdas.findIndex( p => p.function === lambda.function ) === -1 ) {\r\n          state.lambdas.push( lambda )\r\n        }\r\n      } )\r\n    },\r\n    ADD_PROCESSORS( state, processors ) {\r\n      processors.forEach( processor => {\r\n        if ( state.processors.findIndex( p => p._id === processor._id ) === -1 ) {\r\n          // potentially enforce here extra fields\r\n          if ( !processor.tags ) processor.tags = [ ]\r\n          state.processors.unshift( processor )\r\n        }\r\n      } )\r\n    },\r\n    UPDATE_PROCESSOR( state, props ) {\r\n      let found = state.processors.find( p => p._id == props._id )\r\n\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n    },\r\n    DELETE_PROCESSOR( state, props ) {\r\n      let index = state.processors.findIndex( p => p._id === props._id )\r\n      if ( index > -1 ) {\r\n        state.processors.splice( index, 1 )\r\n      } else\r\n        console.log( `Failed to remove processor ${props._id} from store.` )\r\n    },\r\n    ADD_TOKEN( state, {id, token} ) {\r\n      Vue.set(state.tokens, id, token)\r\n      console.log(state.tokens)\r\n    },\r\n    DELETE_TOKEN( state, id ) {\r\n      Vue.delete(state.tokens, id)\r\n      console.log(state.tokens)\r\n    },\r\n\r\n    // Users\r\n    ADD_USER( state, user ) {\r\n      let found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        state.users.unshift( user )\r\n      else found = user // update the user\r\n    },\r\n    ADD_USERS( state, users ) {\r\n      users.forEach( user => {\r\n        let found = state.users.find( u => u._id === user._id )\r\n        if ( !found )\r\n          state.users.unshift( user )\r\n        else found = user // update the user\r\n      } )\r\n    },\r\n    UPDATE_USER( state, user ) {\r\n      let found = null\r\n      if ( user._id === state.user._id ) found = state.user\r\n      else\r\n        found = state.users.find( u => u._id === user._id )\r\n      if ( !found )\r\n        return console.error( 'User not found; aborting update.' )\r\n      Object.keys( user ).forEach( key => {\r\n        found[ key ] = user[ key ]\r\n      } )\r\n    },\r\n\r\n    // Generics\r\n    SET_SERVER( state, server ) {\r\n      state.server = server\r\n    },\r\n    SET_SERVER_DETAILS( state, serverManifest ) {\r\n      state.serverManifest = serverManifest\r\n    },\r\n    SET_TOKEN( state, token ) {\r\n      state.token = token\r\n      state.isAuth = true\r\n    },\r\n    SET_USER( state, user ) {\r\n      state.user = user\r\n    },\r\n    SET_WEB_APP_CLIENT( state, client ) {\r\n      state.client = client\r\n    },\r\n\r\n    // End of life\r\n    FLUSH_ALL( state ) {\r\n      state.token = null\r\n      state.user = {}\r\n      state.streams = [ ]\r\n      state.projects = [ ]\r\n      state.clients = [ ]\r\n      state.users = [ ]\r\n      state.comments = [ ]\r\n      state.isAuth = false\r\n    },\r\n\r\n    // Viewer related\r\n    ADD_LOADED_STREAMID( state, streamId ) {\r\n      state.loadedStreamIds = [ ...new Set( [ ...state.loadedStreamIds, streamId ] ) ]\r\n    },\r\n    REMOVE_LOADED_STREAMID( state, streamId ) {\r\n      let index = state.loadedStreamIds.indexOf( streamId )\r\n      if ( index !== -1 )\r\n        state.loadedStreamIds.splice( index, 1 )\r\n      else\r\n        console.warn( `Failed to remove loaded streamid: ${streamId} from ${state.loadedStreamIds}` )\r\n    },\r\n    // OBJECTS\r\n    ADD_OBJECTS( state, objects ) {\r\n      state.objects.push( ...objects )\r\n    },\r\n    UPDATE_OBJECTS_STREAMS( state, { objIds, streamToAdd, streamToRemove } ) {\r\n      objIds.forEach( id => {\r\n        let myObject = state.objects.find( o => o._id === id )\r\n        if ( myObject ) {\r\n          if ( streamToAdd && myObject.streams.indexOf( streamToAdd ) === -1 )\r\n            myObject.streams.push( streamToAdd )\r\n          if ( streamToRemove ) {\r\n            let index = myObject.streams.indexOf( streamToRemove )\r\n            if ( index !== -1 ) myObject.streams.splice( index, 1 )\r\n          }\r\n        }\r\n      } )\r\n    },\r\n    REMOVE_OBJECTS( state, objectIds ) {\r\n      state.objects = state.objects.filter( obj => objectIds.indexOf( obj._id ) === -1 )\r\n    },\r\n    // Selected objects setters\r\n    SET_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      if ( objectIds.length > 0 )\r\n        state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n      else\r\n        state.selectedObjects = [ ]\r\n    },\r\n    ADD_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      state.selectedObjects = [ ...new Set( [ ...state.selectedObjects, ...objectIds ] ) ]\r\n    },\r\n    REMOVE_SELECTED_OBJECTS( state, { objectIds } ) {\r\n      objectIds.forEach( id => {\r\n        let index = state.selectedObjects.indexOf( id )\r\n        if ( index !== -1 ) state.selectedObjects.splice( index, 1 )\r\n      } )\r\n    },\r\n    SET_LEGEND( state, legend ) {\r\n      state.legend = legend\r\n    },\r\n  },\r\n  actions: {\r\n    // Streams\r\n    getStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.streams.find( s => s.streamId === props.streamId )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    refreshStream( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams/${props.streamId}?omit=objects` )\r\n          .then( res => {\r\n            context.commit( 'UPDATE_STREAM', res.data.resource )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n\r\n    getStreams( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `streams?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_STREAMS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createStream( context, stream ) {\r\n      let streamId = null\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `streams` )\r\n          .then( res => {\r\n            console.log( res )\r\n            stream.streamId = res.data.resource.streamId\r\n            res.data.resource.onlineEditable = true\r\n            context.commit( 'ADD_STREAMS', [ res.data.resource ] )\r\n            //namespacing the admin module caused other issues, so we'll call this here as well\r\n            context.commit( 'ADD_STREAMS_ADMIN', [ res.data.resource ] )\r\n            return Axios.put( `streams/${res.data.resource.streamId}`, stream )\r\n          } )\r\n          .then( res => {\r\n            console.log( res )\r\n            context.commit( 'UPDATE_STREAM', stream )\r\n            return resolve( stream )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateStream( context, props ) {\r\n      Axios.put( `streams/${props.streamId}`, props )\r\n        .then( res => {\r\n          // modules.admin\r\n          context.commit( 'UPDATE_STREAM', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    // For data-editable streams only\r\n    updateStreamObjectsAndLayers: ( context, { streamId, commitMessage } ) => new Promise( ( resolve, reject ) => {\r\n      let found = context.state.deStreams.find( s => s.streamId === streamId )\r\n      if ( !found ) return reject( new Error( 'Stream not found in store.' ) )\r\n\r\n      found.commitMessage = commitMessage + ` (changed by ${context.state.user.name} ${context.state.user.surname})`\r\n      found.lastChangedBy = context.state.user._id\r\n\r\n      context.commit( 'UPDATE_STREAM', { streamId: streamId, commitMessage: commitMessage } )\r\n\r\n      Axios.post( `streams/${streamId}/clone` )\r\n        .then( res => {\r\n          let originalStream = context.state.streams.find( s => s.streamId === streamId )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, children: [ ...originalStream.children, res.data.clone.streamId ] } )\r\n          return Axios.put( `streams/${streamId}`, found )\r\n        } )\r\n        .then( res => resolve( res ) )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n    getStreamClients( context, props ) {\r\n      Axios.get( `streams/${props.streamId}/clients` )\r\n        .then( res => {\r\n          context.commit( 'ADD_CLIENTS', res.data.resources )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n    deleteStream( context, payload ) {\r\n      // TODO: https://github.com/speckleworks/SpeckleAdmin/issues/19\r\n      Axios.delete( `streams/${payload.streamId}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_STREAM', { streamId: payload.streamId } )\r\n        } )\r\n        .catch( err => {\r\n          console.log( err )\r\n        } )\r\n    },\r\n\r\n    // objects\r\n    getStreamObjects( context, streamId ) {\r\n      let found = context.state.streams.find( s => s.streamId === streamId )\r\n      return new Promise( ( resolve, reject ) => {\r\n        context.dispatch( 'getStream', { streamId: streamId } )\r\n          .then( ( ) => {\r\n            return Axios.get( `streams/${streamId}?fields=objects,layers` )\r\n          } )\r\n          .then( res => {\r\n            let ids = res.data.resource.objects.map( o => o._id )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, objects: ids, layers: res.data.resource.layers } )\r\n            resolve( ids )\r\n          } )\r\n          .catch( err => {\r\n            reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getObjects( context, objectIds ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `objects/getbulk?omit=base64,rawData,canRead,canWrite,children,anonymousComments,name`, objectIds )\r\n          .then( res => {\r\n            // context.state.objects.push( ...res.data.resources )\r\n            // context.commit( 'ADD_OBJECTS', res.data.resources )\r\n            resolve( res.data.resources )\r\n          } )\r\n          .catch( err => reject( err ) )\r\n      } )\r\n    },\r\n    createObjects( context, objects ) {\r\n      return new Promise( (resolve, reject) => {\r\n        Axios.post(`objects`, objects)\r\n        .then( res => resolve( res.data.resources ) )\r\n        .catch( err => reject( err ))\r\n      })\r\n    },\r\n\r\n    // projects\r\n    getProject( context, props ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects/${props._id}` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            return resolve( res )\r\n          } )\r\n          .catch( err => {\r\n            console.error( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    getProjects( context, query ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.get( `projects?${query ? query : '' }` )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', res.data.resources )\r\n            return resolve( res.data.resources )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    createProject( context, project ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( `projects`, project ? project : { name: 'A new speckle project' } )\r\n          .then( res => {\r\n            context.commit( 'ADD_PROJECTS', [ res.data.resource ] )\r\n            //namespacing the admin module caused other issues, so we'll call this here as well\r\n            context.commit( 'ADD_PROJECTS_ADMIN', [ res.data.resource ] )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            console.log( err )\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    updateProject( context, props ) {\r\n      Axios.put( `projects/${props._id}`, props )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', props )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n        } )\r\n    },\r\n    addUserToProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/adduser/${userId}` )\r\n        .then( res => {\r\n          let permissions = { canWrite: [ ...new Set( [ ...project.permissions.canWrite, userId ] ) ], canRead: project.permissions.canRead }\r\n          let canRead = [ ...new Set( [ ...project.canRead, userId ] ) ]\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: permissions, canRead: canRead } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    upgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/upgradeuser/${userId}` )\r\n        .then( res => {\r\n          return Axios.get( `projects/${projectId}?fields=permissions` )\r\n        } )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', {\r\n            _id: projectId,\r\n            permissions: {\r\n              canRead: res.data.resource.permissions.canRead, //[ ...new Set( [ ...project.canRead, userId ] ) ],\r\n              canWrite: res.data.resource.permissions.canWrite //[ ...new Set( [ ...project.canWrite, userId ] ) ]\r\n            }\r\n          } )\r\n          project.streams.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: uniq( [ ...myStream.canWrite, userId ] ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    downgradeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.put( `projects/${projectId}/downgradeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, permissions: res.data.project.permissions } )\r\n          res.data.streamsToAddReadAndPullWrite.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ), canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          res.data.streamsToAddToRead.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: uniq( [ ...myStream.canRead, userId ] ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeUserInProject: ( context, { projectId, userId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n      Axios.delete( `projects/${projectId}/removeuser/${userId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, canRead: res.data.project.canRead, canWrite: res.data.project.canWrite, permissions: res.data.project.permissions } )\r\n          res.data.streamsToPullBothFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ), canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullWriteFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canWrite: myStream.canWrite.filter( id => id !== userId ) } )\r\n          } )\r\n          res.data.streamsToPullReadFrom.forEach( streamId => {\r\n            let myStream = context.state.streams.find( s => s.streamId === streamId )\r\n            context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: myStream.canRead.filter( id => id !== userId ) } )\r\n          } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    addStreamToProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.put( `projects/${projectId}/addstream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    removeStreamFromProject: ( context, { projectId, streamId } ) => new Promise( ( resolve, reject ) => {\r\n      let project = context.state.projects.find( p => p._id === projectId )\r\n      if ( !project ) return reject( new Error( 'Failed to find project in state.' ) )\r\n\r\n      Axios.delete( `projects/${projectId}/removestream/${streamId}` )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_PROJECT', { _id: projectId, streams: res.data.project.streams } )\r\n          context.commit( 'UPDATE_STREAM', { streamId: streamId, canRead: res.data.stream.canRead, canWrite: res.data.stream.canWrite } )\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n    deleteProject: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n      Axios.delete( `projects/${props._id}` )\r\n        .then( res => {\r\n          context.commit( 'DELETE_PROJECT', { _id: props._id } )\r\n          for ( let stream of res.data.modifiedStreams ) {\r\n            context.commit( 'UPDATE_STREAM', { streamId: stream.streamId, canRead: stream.canRead, canWrite: stream.canWrite } )\r\n          }\r\n          return resolve( )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n    } ),\r\n\r\n    // processors\r\n    loadLambdas ( context ) {\r\n      return new Promise(( resolve, reject ) => {\r\n        let promises = []\r\n        let myLambdas = new LambdaSettings().Lambdas\r\n\r\n        for(let i = 0; i < myLambdas.length; i++)\r\n        {\r\n          promises.push(\r\n            Axios({\r\n              method: 'GET',\r\n              url: `.netlify/functions/${myLambdas[i]}`,\r\n              baseURL: location.protocol + '//' + location.host,\r\n            })\r\n          )\r\n        }\r\n\r\n        Promise.all(promises)\r\n          .then( res => {\r\n            var lambdas = []\r\n\r\n            res.forEach( r => {\r\n              let data = r.data\r\n              data.function = r.request.responseURL.split('/').slice(-1).pop()\r\n              lambdas.push(data)\r\n            })\r\n\r\n            context.commit( 'ADD_LAMBDAS', lambdas )\r\n            return resolve ( lambdas )\r\n          } )\r\n      }) \r\n\r\n\r\n    },\r\n    getProcessor( context, props ) {\r\n      var processor = JSON.parse(window.localStorage.getItem(\"processor_\" + props._id))\r\n\r\n      if (processor !== null)\r\n        context.commit( 'ADD_PROCESSORS', [ processor ] )\r\n\r\n      return processor\r\n    },\r\n    getProcessors( context ) {\r\n      var processorIds = JSON.parse(window.localStorage.getItem(\"processorIds\"))\r\n\r\n      if (processorIds === null)\r\n        return null\r\n      \r\n      var processors = [ ]\r\n      processorIds.forEach( id => {\r\n        var processor = JSON.parse(window.localStorage.getItem(\"processor_\" + id))\r\n        if (processor != null)\r\n          processors.unshift(processor)\r\n      })\r\n\r\n      context.commit( 'ADD_PROCESSORS', processors )\r\n\r\n      return processors\r\n    },\r\n    createProcessor( context, processor ) {\r\n      var id = uuid()\r\n      \r\n      var proc = processor ? processor : { name: 'A new speckle processor' }\r\n      \r\n      // Always assign new ID\r\n      proc._id = id\r\n\r\n      if (!proc.hasOwnProperty('description'))\r\n        proc.description = \"This is a simple speckle processor.\"\r\n      \r\n      if (!proc.hasOwnProperty('tags'))\r\n        proc.tags = [ ]\r\n        \r\n      if (!proc.hasOwnProperty('blocks'))\r\n        proc.blocks = [ ]\r\n      \r\n      if (!proc.hasOwnProperty('params'))\r\n        proc.params = [ ]\r\n\r\n      // Properties added for compatibility with other components\r\n      // as well as for future storage in server\r\n      proc.owner = context.state.user._id\r\n      proc.private = false\r\n      proc.canRead = [ context.state.user._id ]\r\n      proc.canWrite = [ context.state.user._id ]\r\n\r\n      proc.anonymousComments = false\r\n      proc.comments = []\r\n\r\n      window.localStorage.setItem(\r\n        \"processor_\" + id,\r\n        JSON.stringify(proc)\r\n      )\r\n\r\n      context.commit( 'ADD_PROCESSORS', [ proc ] )\r\n\r\n      var processorIds = JSON.parse(window.localStorage.getItem(\"processorIds\"))\r\n\r\n      if (processorIds === null)\r\n        processorIds = [ ]\r\n      \r\n      processorIds.unshift(id)\r\n\r\n      window.localStorage.setItem(\r\n        \"processorIds\",\r\n        JSON.stringify(processorIds)\r\n      )\r\n\r\n      return proc\r\n    },\r\n    updateProcessor( context, props ) {\r\n      let found = JSON.parse(window.localStorage.getItem(\"processor_\" + props._id))\r\n\r\n      Object.keys( props ).forEach( key => {\r\n        found[ key ] = props[ key ]\r\n      } )\r\n      window.localStorage.setItem(\r\n        \"processor_\" + props._id,\r\n        JSON.stringify(found)\r\n      )\r\n\r\n      context.commit( 'UPDATE_PROCESSOR', props )\r\n    },\r\n    deleteProcessor( context, props ) {\r\n      window.localStorage.removeItem(\"processor_\" + props._id)\r\n\r\n      context.commit( 'DELETE_PROCESSOR', props )\r\n\r\n      var processorIds = JSON.parse(window.localStorage.getItem(\"processorIds\"))\r\n\r\n      if (processorIds !== null)\r\n      {\r\n        var foundIndex = processorIds.indexOf(props._id)\r\n        if (foundIndex !== -1)\r\n        {\r\n          processorIds.splice(foundIndex, 1)\r\n          \r\n          window.localStorage.setItem(\r\n            \"processorIds\",\r\n            JSON.stringify(processorIds)\r\n          )\r\n        }\r\n      }\r\n    },\r\n    async authenticateBlocks( context, blocks ) {\r\n      for (let i = 0; i < blocks.length; i++)\r\n      {\r\n        if(blocks[i].msal)\r\n        {\r\n          let propName = 'msal|' + blocks[i].msal.clientId\r\n          let token = await getTokenMSAL(blocks[i].msal)\r\n          context.commit( 'ADD_TOKEN', {id: propName, token: token})\r\n        }\r\n      }\r\n    },\r\n    \r\n    // client for ws ids, etc.\r\n    createClient: ( context, props ) => new Promise( ( resolve, reject ) => {\r\n\r\n      // NOTE: This is a stupid hack. To get a temp client, we need to be not auhtorised : /\r\n      delete Axios.defaults.headers.common[ 'Authorization' ]\r\n\r\n      Axios.post( `clients`, { role: 'online-client', documentName: 'Online interface', documentType: 'browser', online: true } )\r\n        .then( res => {\r\n          context.commit( 'SET_WEB_APP_CLIENT', res.data.resource )\r\n          return resolve( res.data.resource )\r\n        } )\r\n        .catch( err => {\r\n          console.warn( err )\r\n          return reject( err )\r\n        } )\r\n      // set the headers back. man what a stupid hack this is...\r\n      Axios.defaults.headers.common[ 'Authorization' ] = context.state.token\r\n    } ),\r\n\r\n    // users\r\n    getUser( context, payload ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        let found = context.state.users.find( u => u._id === payload._id )\r\n        if ( found ) return resolve( found )\r\n        Axios.get( `accounts/${payload._id}` )\r\n          .then( res => {\r\n            if ( context.state.user._id === payload._id ) res.data.resource.surname += ' (that is you!)'\r\n            context.commit( 'ADD_USER', res.data.resource )\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n\r\n    updateLoggedInUser: ( context, payload ) => new Promise( ( resolve, reject ) => {\r\n      console.log(payload)\r\n      Axios.put( `accounts`, payload )\r\n        .then( res => {\r\n          context.commit( 'UPDATE_USER', payload )\r\n          return resolve( res )\r\n        } )\r\n        .catch( err => reject( err ) )\r\n    } ),\r\n\r\n    // Auth\r\n    login( context, payload ) {\r\n      return new Promise( ( resolve, reject ) => {\r\n        Axios.post( 'accounts/login', { email: payload.email, password: payload.password } )\r\n          .then( res => {\r\n            context.commit( 'SET_TOKEN', res.data.resource.token )\r\n            context.commit( 'SET_USER', res.data.resource )\r\n            // save them for later\r\n            localStorage.setItem( 'token', res.data.resource.token )\r\n            Axios.defaults.headers.common[ 'Authorization' ] = res.data.resource.token\r\n            return resolve( res.data.resource )\r\n          } )\r\n          .catch( err => {\r\n            return reject( err )\r\n          } )\r\n      } )\r\n    },\r\n    logout( context, payload ) {\r\n      context.commit( 'FLUSH_ALL' )\r\n      localStorage.removeItem( 'token' )\r\n      Axios.defaults.headers.common[ 'Authorization' ] = ''\r\n    }\r\n  },\r\n  modules: {\r\n    admin: adminStore\r\n  }\r\n} )","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Store from './store'\r\n\r\nVue.use( Router )\r\n\r\nlet myRouter = new Router( {\r\n  linkExactActiveClass: 'is-active',\r\n  routes: [ {\r\n      path: '/',\r\n      name: 'dashboard',\r\n      component: ( ) => import( './views/Dashboard.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/login/:redirectTo?',\r\n      name: 'login',\r\n      component: ( ) => import( './views/Login.vue' )\r\n    },\r\n    {\r\n      path: '/register',\r\n      name: 'register',\r\n      component: ( ) => import( './views/Register.vue' ),\r\n    },\r\n    {\r\n      path: '/streams',\r\n      name: 'streams',\r\n      component: ( ) => import( './views/Streams.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/streams/:streamId',\r\n      component: ( ) => import( './views/Stream.vue' ),\r\n      meta: { requiresAuth: true },\r\n      children: [ {\r\n        name: 'stream overview',\r\n        path: '',\r\n        component: ( ) => import( './views/StreamOverview.vue' )\r\n      }, {\r\n        name: 'stream data',\r\n        path: 'data',\r\n        component: ( ) => import( './views/StreamData.vue' )\r\n      }, {\r\n        name: 'stream sharing',\r\n        path: 'sharing',\r\n        component: ( ) => import( './views/StreamSharing.vue' )\r\n      }, {\r\n        name: 'stream history',\r\n        path: 'history',\r\n        component: ( ) => import( './views/StreamHistory.vue' )\r\n      } ]\r\n    },\r\n    {\r\n      path: '/projects',\r\n      name: 'projects',\r\n      component: ( ) => import( './views/Projects.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/projects/:projectId',\r\n      name: 'project overview',\r\n      component: ( ) => import( './views/Project.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/view/:streamIds*',\r\n      name: 'viewer',\r\n      component: ( ) => import( './views/Viewer.vue' ),\r\n      meta: { requiresAuth: false },\r\n    },\r\n    {\r\n      path: '/trash',\r\n      name: 'trash',\r\n      component: ( ) => import( './views/Trash.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/profile',\r\n      name: 'profile',\r\n      component: ( ) => import( './views/Profile.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/plugins',\r\n      name: 'plugins',\r\n      component: ( ) => import( './views/Plugins.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/feedback',\r\n      name: 'feedback',\r\n      component: ( ) => import( './views/Feedback.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/admin',\r\n      name: '',\r\n      component: ( ) => import( './views/Admin.vue' ),\r\n      meta: { requiresAuth: true },\r\n      children: [ {\r\n        name: 'admin users',\r\n        path: '',\r\n        component: ( ) => import( './views/AdminUsers.vue' )\r\n      }, {\r\n        name: 'admin streams',\r\n        path: 'streams',\r\n        component: ( ) => import( './views/AdminStreams.vue' )\r\n      }, {\r\n        name: 'admin projects',\r\n        path: 'projects',\r\n        component: ( ) => import( './views/AdminProjects.vue' )\r\n      } ]\r\n    },\r\n    {\r\n      path: '/processors',\r\n      name: 'processors',\r\n      component: ( ) => import( './views/Processors.vue' ),\r\n      meta: { requiresAuth: true },\r\n    },\r\n    {\r\n      path: '/processors/:processorId',\r\n      name: 'processor overview',\r\n      component: ( ) => import( './views/Processor.vue' ),\r\n      meta: { requiresAuth: true },\r\n    }\r\n  ],\r\n  // scrollBehavior( to, from, savedPosition ) {\r\n  //   console.log( 'scrollBehavior' )\r\n  //   return { x: 0, y: 0 }\r\n  // }\r\n} )\r\n\r\n// myRouter.afterEach( ( to, from ) => {\r\n//   document.getElementById( 'app' ).scrollIntoView( )\r\n// } )\r\n\r\nmyRouter.beforeEach( ( to, from, next ) => {\r\n  if ( to.meta.requiresAuth ) {\r\n    if ( to.meta.requiresAuth === true && Store.state.isAuth === false )\r\n      return next( { path: '/login' + ( to !== null ? \"/\" + window.btoa( to.path ) : \"\" ) } )\r\n  }\r\n  next( )\r\n} )\r\n\r\nexport default myRouter\r\n","/* eslint-disable no-console */\r\n\r\nimport { register } from 'register-service-worker'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n  register(`${process.env.BASE_URL}service-worker.js`, {\r\n    ready () {\r\n      console.log(\r\n        'App is being served from cache by a service worker.\\n' +\r\n        'For more details, visit https://goo.gl/AFskqB'\r\n      )\r\n    },\r\n    registered () {\r\n      console.log('Service worker has been registered.')\r\n    },\r\n    cached () {\r\n      console.log('Content has been cached for offline use.')\r\n    },\r\n    updatefound () {\r\n      console.log('New content is downloading.')\r\n    },\r\n    updated () {\r\n      console.log('New content is available; please refresh.')\r\n    },\r\n    offline () {\r\n      console.log('No internet connection found. App is running in offline mode.')\r\n    },\r\n    error (error) {\r\n      console.error('Error during service worker registration:', error)\r\n    }\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{attrs:{\"title\":_vm.hint,\"contenteditable\":!_vm.disabled},domProps:{\"innerHTML\":_vm._s(_vm.getContent())},on:{\"blur\":_vm.updateOnBlur,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateOnEnter($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span :title='hint' :contenteditable='!disabled' @blur='updateOnBlur' @keydown.enter='updateOnEnter' v-html='getContent()'></span>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'EditableSpan',\r\n  props: {\r\n    text: { type: String, default: 'loading...' },\r\n    disabled: { type: Boolean, default: false },\r\n    hint: { type: String, default: 'click and type to edit' },\r\n    dataKey: { type: String, default: '' }\r\n  },\r\n  computed: {},\r\n  data( ) {\r\n    return {\r\n      innerText: null\r\n    }\r\n  },\r\n  methods: {\r\n    getContent( ) {\r\n      if ( this.innerText )\r\n        return this.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" ) !== '' ? this.innerText : this.text\r\n      return this.text\r\n    },\r\n    updateOnBlur( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        return\r\n      }\r\n      this.innerText = newContent\r\n      this.$emit( 'update', { text: newContent, dataKey: this.dataKey } )\r\n    },\r\n    updateOnEnter( e ) {\r\n      let newContent = e.target.innerText.replace( /(\\r\\n|\\n|\\r)/gm, \"\" )\r\n      if ( newContent === '' )\r\n        return e.target.innerText = this.text\r\n      if ( this.getContent( ) === newContent ) {\r\n        e.target.blur( )\r\n        return\r\n      }\r\n      e.target.blur( )\r\n      this.innerText = newContent\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n$SpeckleBlue: #448aff;\r\n\r\nspan {\r\n  border-bottom: 2px dashed rgba(55, 126, 247, 0.6);\r\n  transition: all .3s ease;\r\n}\r\n\r\nspan:hover {\r\n  cursor: text;\r\n  color: $SpeckleBlue;\r\n  border-bottom: 2px solid $SpeckleBlue;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditableSpan.vue?vue&type=template&id=8918005a&scoped=true&\"\nimport script from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nexport * from \"./EditableSpan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8918005a\",\n  null\n  \n)\n\ncomponent.options.__file = \"EditableSpan.vue\"\nexport default component.exports","import Vue from 'vue'\r\nimport Axios from 'axios'\r\nimport App from './App.vue'\r\nimport Router from './router'\r\nimport Store from './store'\r\nimport './registerServiceWorker'\r\n\r\nVue.config.productionTip = false\r\n\r\nimport Vuetify from 'vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\nimport colors from 'vuetify/es5/util/colors'\r\n\r\nVue.use( Vuetify, {\r\n  theme: {\r\n    primary: colors.blue.darken1, // #E53935\r\n    secondary: colors.blue.lighten4, // #FFCDD2\r\n    accent: colors.indigo.base // #3F51B5\r\n  }\r\n} )\r\n\r\nimport VueTimeago from 'vue-timeago'\r\nVue.use( VueTimeago, { locale: 'en' } )\r\n\r\n// Set up the server route.\r\nlet server = localStorage.getItem( 'server' )\r\nif ( server )\r\n  Store.state.server = server\r\nelse\r\n Store.state.server = `${window.location.origin}/api`\r\n\r\n\r\n// set default server\r\nAxios.defaults.baseURL = Store.state.server\r\n\r\n// Get the token, if any is present.\r\nlet token = localStorage.getItem( 'token' )\r\n\r\n// Start the init flow\r\nAxios.get( Store.state.server )\r\n  .then( response => {\r\n    Store.state.serverManifest = response.data\r\n    return Axios.get( `${Store.state.server}/accounts?omit=logins`, { headers: { Authorization: token } } )\r\n  } )\r\n  .then( response => {\r\n    // means we're logged out\r\n    if ( response === null ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // needs to log in\r\n    if ( response.status !== 200 ) {\r\n      // TODO\r\n      initApp( )\r\n      return\r\n    }\r\n    // set defaults in axios, if we got this far things should be fine\r\n    Axios.defaults.headers.common[ 'Authorization' ] = token\r\n    // update the store\r\n    Store.state.isAuth = true\r\n    Store.state.user = response.data.resource\r\n    Store.state.token = token\r\n\r\n    initApp( )\r\n  } )\r\n  .catch( err => {\r\n    initApp( )\r\n  } )\r\n\r\n// set axios as default $http request lib\r\nVue.prototype.$http = Axios\r\n\r\n// event bus used for triggerring events cross-hirearchy\r\nwindow.bus = new Vue( )\r\n\r\n// get hex color from string global mixin\r\nimport CH from 'color-hash'\r\nlet ColorHasher = new CH( )\r\nVue.mixin( {\r\n  methods: {\r\n    getHexFromString: str => ColorHasher.hex( str )\r\n  }\r\n} )\r\n\r\nimport EditableSpan from './components/EditableSpan.vue'\r\nVue.component( 'editable-span', EditableSpan )\r\n\r\n// The init logic (it's called after we do some auth flows)\r\nlet initApp = ( ) => {\r\n  new Vue( {\r\n    router: Router,\r\n    store: Store,\r\n    render: h => h( App )\r\n  } ).$mount( '#app' )\r\n}\r\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditableSpan.vue?vue&type=style&index=0&id=8918005a&scoped=true&lang=scss&\""],"sourceRoot":""}